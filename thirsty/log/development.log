Started GET "/" for 127.0.0.1 at 2018-04-28 20:09:56 -0400
  
ActiveRecord::NoDatabaseError (FATAL:  database "thirsty_development" does not exist
):
  
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:688:in `rescue in connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:683:in `connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:215:in `initialize'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `new'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `postgresql_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:809:in `new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:853:in `checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:832:in `try_to_checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:793:in `acquire_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:521:in `checkout'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:380:in `connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:1008:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:118:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:90:in `connection'
activerecord (5.2.0) lib/active_record/migration.rb:554:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favicon.ico" for 127.0.0.1 at 2018-04-28 20:09:57 -0400
  
ActiveRecord::NoDatabaseError (FATAL:  database "thirsty_development" does not exist
):
  
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:688:in `rescue in connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:683:in `connect'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:215:in `initialize'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `new'
activerecord (5.2.0) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `postgresql_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:809:in `new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:853:in `checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:832:in `try_to_checkout_new_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:793:in `acquire_connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:521:in `checkout'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:380:in `connection'
activerecord (5.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:1008:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:118:in `retrieve_connection'
activerecord (5.2.0) lib/active_record/connection_handling.rb:90:in `connection'
activerecord (5.2.0) lib/active_record/migration.rb:554:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (527.5ms)[0m  [1m[35mCREATE DATABASE "thirsty_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (433.7ms)[0m  [1m[35mCREATE DATABASE "thirsty_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
Started GET "/" for 127.0.0.1 at 2018-04-28 20:10:44 -0400
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/lib/ruby/gems/2.5.0/gems/railties-5.2.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/lib/ruby/gems/2.5.0/gems/railties-5.2.0/lib/rails/templates/rails/welcome/index.html.erb (2.6ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.0ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2018-04-28 20:10:44 -0400
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-04-28 21:39:41 -0400
Processing by Rails::WelcomeController#index as */*
  Rendering /usr/local/lib/ruby/gems/2.5.0/gems/railties-5.2.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/lib/ruby/gems/2.5.0/gems/railties-5.2.0/lib/rails/templates/rails/welcome/index.html.erb (2.6ms)
Completed 200 OK in 72ms (Views: 36.9ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2018-04-28 22:28:27 -0400
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/lib/ruby/gems/2.5.0/gems/railties-5.2.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/lib/ruby/gems/2.5.0/gems/railties-5.2.0/lib/rails/templates/rails/welcome/index.html.erb (2.3ms)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.0ms)


Started GET "/api/drinks" for ::1 at 2018-04-28 22:28:35 -0400
  
ArgumentError (Before process_action callback :verify_authenticity_token has not been defined):
  
app/controllers/drinks_controller.rb:3:in `<class:DrinksController>'
app/controllers/drinks_controller.rb:1:in `<main>'
Started GET "/api/drinks" for ::1 at 2018-04-28 22:28:51 -0400
Processing by DrinksController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant DrinksController::Drink):
  
app/controllers/drinks_controller.rb:5:in `index'
Started GET "/api/drinks" for ::1 at 2018-04-28 22:29:16 -0400
Processing by DrinksController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant DrinksController::Drink):
  
app/controllers/drinks_controller.rb:5:in `index'
Started GET "/api/drinks" for ::1 at 2018-04-28 22:29:51 -0400
Processing by DrinksController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant DrinksController::Drink):
  
app/controllers/drinks_controller.rb:5:in `index'
Started GET "/api/drinks" for ::1 at 2018-04-28 22:30:48 -0400
Processing by DrinksController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant DrinksController::Drink):
  
app/controllers/drinks_controller.rb:5:in `index'
Started GET "/api/drinks" for ::1 at 2018-04-28 22:32:26 -0400
Processing by DrinksController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant DrinksController::Drink):
  
app/controllers/drinks_controller.rb:5:in `index'
Started GET "/api/drinks" for ::1 at 2018-04-28 22:32:43 -0400
Processing by DrinksController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant DrinksController::Drink):
  
app/controllers/drinks_controller.rb:5:in `index'
Started GET "/api/drinks" for ::1 at 2018-04-28 22:32:54 -0400
Processing by DrinksController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant DrinksController::Drink):
  
app/controllers/drinks_controller.rb:5:in `index'
Started GET "/api/drinks" for ::1 at 2018-04-28 22:37:07 -0400
Processing by DrinksController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant DrinksController::Drink):
  
app/controllers/drinks_controller.rb:5:in `index'
Started GET "/favicon.ico" for ::1 at 2018-04-28 22:37:08 -0400
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (2.7ms)[0m  [1m[35mCREATE DATABASE "thirsty_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "thirsty_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (25.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:4
  [1m[35m (26.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:4
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateUsers (20180502143541)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (33.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "email" character varying, "className" character varying, "auth_token" character varying)[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_username" ON "users"  ("username")[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502143541"]]
  â†³ bin/rails:4
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Load (2.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Create (7.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-05-02 14:53:35.708065"], ["updated_at", "2018-05-02 14:53:35.708065"]]
  â†³ bin/rails:4
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Started GET "/" for ::1 at 2018-05-02 11:22:20 -0400
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/lib/ruby/gems/2.5.0/gems/railties-5.2.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/lib/ruby/gems/2.5.0/gems/railties-5.2.0/lib/rails/templates/rails/welcome/index.html.erb (3.0ms)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.0ms)


Started GET "/favicon.ico" for ::1 at 2018-05-02 11:22:21 -0400
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (227.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_development"[0m
  â†³ bin/rails:4
  [1m[35m (214.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_test"[0m
  â†³ bin/rails:4
  [1m[35m (525.2ms)[0m  [1m[35mCREATE DATABASE "thirsty_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (455.8ms)[0m  [1m[35mCREATE DATABASE "thirsty_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:4
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateUsers (20180502143541)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "email" character varying, "name" character varying, "auth_token" character varying)[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[35m (30.4ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_username" ON "users"  ("username")[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502143541"]]
  â†³ bin/rails:4
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Load (3.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-05-02 15:46:05.908347"], ["updated_at", "2018-05-02 15:46:05.908347"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (211.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_development"[0m
  â†³ bin/rails:4
  [1m[35m (203.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_test"[0m
  â†³ bin/rails:4
  [1m[35m (470.1ms)[0m  [1m[35mCREATE DATABASE "thirsty_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (453.4ms)[0m  [1m[35mCREATE DATABASE "thirsty_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:4
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateUsers (20180502143541)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "email" character varying, "name" character varying, "auth_token" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[35m (5.0ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_username" ON "users"  ("username")[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (8.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502143541"]]
  â†³ bin/rails:4
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:4
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-05-02 15:47:43.682379"], ["updated_at", "2018-05-02 15:47:43.682379"]]
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (209.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_development"[0m
  â†³ bin/rails:4
  [1m[35m (199.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_test"[0m
  â†³ bin/rails:4
  [1m[35m (379.8ms)[0m  [1m[35mCREATE DATABASE "thirsty_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (449.0ms)[0m  [1m[35mCREATE DATABASE "thirsty_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:4
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateUsers (20180502143541)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "email" character varying, "name" character varying, "auth_token" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[35m (8.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_username" ON "users"  ("username")[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502143541"]]
  â†³ bin/rails:4
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Create (1.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-05-02 16:00:30.909530"], ["updated_at", "2018-05-02 16:00:30.909530"]]
  â†³ bin/rails:4
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Started POST "/users" for ::1 at 2018-05-02 12:05:59 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"001test", "password"=>"[FILTERED]", "email"=>"test@test.com", "name"=>"test"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "001test"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "001test"], ["password_digest", "$2a$10$dFfwB16NyQVJ3/u0G7auI.Tqsg.DaJgA6FslV9CPKCoWWTKFYmKQa"], ["email", "test@test.com"], ["name", "test"], ["auth_token", "nurC1ZhVoDMXBEaaJrPSUn6g"], ["created_at", "2018-05-02 16:06:00.225463"], ["updated_at", "2018-05-02 16:06:00.225463"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 103ms (Views: 0.4ms | ActiveRecord: 11.6ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateDrinks (20180502164512)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (28.1ms)[0m  [1m[35mCREATE TABLE "drinks" ("id" bigserial primary key, "name" character varying, "description" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[35m (6.5ms)[0m  [1m[35mCREATE  INDEX  "index_drinks_on_user_id" ON "drinks"  ("user_id")[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502164512"]]
  â†³ bin/rails:4
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (8547.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_development"[0m
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (8491.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_development"[0m
  â†³ bin/rails:4
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (216.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_development"[0m
  â†³ bin/rails:4
  [1m[35m (208.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_test"[0m
  â†³ bin/rails:4
  [1m[35m (377.6ms)[0m  [1m[35mCREATE DATABASE "thirsty_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (460.9ms)[0m  [1m[35mCREATE DATABASE "thirsty_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:4
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateUsers (20180502143541)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "email" character varying, "name" character varying, "auth_token" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_username" ON "users"  ("username")[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502143541"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
Migrating to CreateDrinks (20180502164512)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "drinks" ("id" bigserial primary key, "name" character varying, "description" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_drinks_on_user_id" ON "drinks"  ("user_id")[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502164512"]]
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-05-02 16:51:23.488720"], ["updated_at", "2018-05-02 16:51:23.488720"]]
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Started POST "/users" for 127.0.0.1 at 2018-05-02 14:42:07 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  
SyntaxError (/Users/mehoagland/wdi/unit04/projects/Thirsty-App/thirsty/app/controllers/users_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/users_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end
Started POST "/users" for 127.0.0.1 at 2018-05-02 14:44:33 -0400
  
SyntaxError (/Users/mehoagland/wdi/unit04/projects/Thirsty-App/thirsty/app/controllers/users_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/users_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end
Started POST "/users" for 127.0.0.1 at 2018-05-02 14:46:25 -0400
  
SyntaxError (/Users/mehoagland/wdi/unit04/projects/Thirsty-App/thirsty/app/controllers/users_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/users_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end
Started POST "/drinks/users" for 127.0.0.1 at 2018-05-02 14:47:41 -0400
  
ActionController::RoutingError (No route matches [POST] "/drinks/users"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users" for 127.0.0.1 at 2018-05-02 14:49:32 -0400
  
SyntaxError (/Users/mehoagland/wdi/unit04/projects/Thirsty-App/thirsty/app/controllers/users_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/users_controller.rb:24: syntax error, unexpected end-of-input, expecting keyword_end
Started POST "/users" for 127.0.0.1 at 2018-05-02 14:50:49 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"askjdgsdf", "password"=>"[FILTERED]", "email"=>"sdlfjls@kjsdgk", "name"=>"osafo;ad"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "askjdgsdf"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "askjdgsdf"], ["password_digest", "$2a$10$mqAw9GCvKueN0Lx3n7oCYOXTFHzr/lV5FFktdbTJSsxYfsrhctPni"], ["email", "sdlfjls@kjsdgk"], ["name", "osafo;ad"], ["auth_token", "Wm71Zzywr3LhV7ovzh9UdRy3"], ["created_at", "2018-05-02 18:50:49.766147"], ["updated_at", "2018-05-02 18:50:49.766147"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 109ms (Views: 0.4ms | ActiveRecord: 12.9ms)


Started POST "/users" for 127.0.0.1 at 2018-05-02 14:58:08 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"hellooo", "password"=>"[FILTERED]", "email"=>"hello@hello", "name"=>"good"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "hellooo"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "hellooo"], ["password_digest", "$2a$10$1mYQMUKzJR61KphgtIU.wuWwBngbIXrZbsnx9e63wU8c6sShQTk.u"], ["email", "hello@hello"], ["name", "good"], ["auth_token", "tdeZST83CifZAmHLARopjcLb"], ["created_at", "2018-05-02 18:58:08.636774"], ["updated_at", "2018-05-02 18:58:08.636774"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.8ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 15:25:56 -0400
Processing by SessionsController#create as */*
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/user.rb:12
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started POST "/users" for 127.0.0.1 at 2018-05-02 15:26:18 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]", "email"=>"mehoagland@gmail.com", "name"=>"Margaret Hoagland"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mehoagland@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "mehoagland@gmail.com"], ["password_digest", "$2a$10$LiPB8JAgXwQVO5ekY5ZvnuwpYjjN5gvJTsEMGd5287uYsZ2wc4pvC"], ["email", "mehoagland@gmail.com"], ["name", "Margaret Hoagland"], ["auth_token", "VCEPFVoPvopEHjmF6sFr1xuS"], ["created_at", "2018-05-02 19:26:18.411913"], ["updated_at", "2018-05-02 19:26:18.411913"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 83ms (Views: 0.2ms | ActiveRecord: 2.8ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 15:26:29 -0400
Processing by SessionsController#create as */*
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/user.rb:12
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2018-05-02 15:27:11 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"meh", "password"=>"[FILTERED]", "email"=>"meh@meh", "name"=>"meh"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "meh"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "meh"], ["password_digest", "$2a$10$DXwrbtRbbPZIPiBf.5uyU.Lc6131F1eBI7mDrr03UK6P1aGFej4Qq"], ["email", "meh@meh"], ["name", "meh"], ["auth_token", "HVUa2AMzJ8FiHDiGTqgtxhat"], ["created_at", "2018-05-02 19:27:11.384159"], ["updated_at", "2018-05-02 19:27:11.384159"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 1.9ms)


Started POST "/users" for 127.0.0.1 at 2018-05-02 15:27:13 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"meh", "password"=>"[FILTERED]", "email"=>"meh@meh", "name"=>"meh"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "meh"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:5
Completed 422 Unprocessable Entity in 83ms (ActiveRecord: 0.7ms)


  
ActiveRecord::RecordInvalid (Validation failed: Username has already been taken):
  
app/controllers/users_controller.rb:5:in `create'
Started POST "/users" for 127.0.0.1 at 2018-05-02 15:28:14 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"meh14", "password"=>"[FILTERED]", "email"=>"meh@meh", "name"=>"meh"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "meh14"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "meh14"], ["password_digest", "$2a$10$W1lJkJt5/WSVntJuQlN57.pYViFyNqEXyrp8pXGzTVYiIDyTG9YMW"], ["email", "meh@meh"], ["name", "meh"], ["auth_token", "ctubsWqU5HkCnQWnpN2HF4XX"], ["created_at", "2018-05-02 19:28:14.441681"], ["updated_at", "2018-05-02 19:28:14.441681"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 15:28:40 -0400
Processing by SessionsController#create as */*
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/user.rb:12
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2018-05-02 15:30:18 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"dog", "password"=>"[FILTERED]", "email"=>"dog@dog", "name"=>"doggy"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "dog"], ["password_digest", "$2a$10$AAgE2cv4mgBGxIJ6bbo.ceNxPQf4nAFedKKZwWcOHJTtfqmlVH7zS"], ["email", "dog@dog"], ["name", "doggy"], ["auth_token", "nik1uBXzHVNMD3uhJYiBJ7fX"], ["created_at", "2018-05-02 19:30:18.415306"], ["updated_at", "2018-05-02 19:30:18.415306"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 87ms (Views: 0.3ms | ActiveRecord: 6.8ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 15:30:38 -0400
Processing by SessionsController#create as */*
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/user.rb:12
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 15:30:41 -0400
Processing by SessionsController#create as */*
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/user.rb:12
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 15:42:02 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (2.7ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "jBGv927KbKRzQQjNKshqWzzS"], ["updated_at", "2018-05-02 19:42:02.332044"], ["id", 6]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 91ms (Views: 0.2ms | ActiveRecord: 4.4ms)


Started POST "/users" for 127.0.0.1 at 2018-05-02 17:19:47 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"1", "password"=>"[FILTERED]", "email"=>"1@1.com", "name"=>"person1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "1"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "1"], ["password_digest", "$2a$10$H6ZPCIIAvGThQJOdV5Xpq..VF7uvy6VIZxSCZ0vdqakXPRD2st0uG"], ["email", "1@1.com"], ["name", "person1"], ["auth_token", "nSTuxnfYJMV5aJ54FvV59KWW"], ["created_at", "2018-05-02 21:19:47.924289"], ["updated_at", "2018-05-02 21:19:47.924289"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 3.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 17:20:11 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"1@1.com", "password"=>"[FILTERED]", "session"=>{"username"=>"1@1.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "1@1.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:12
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 17:20:24 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]", "session"=>{"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mehoagland@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "mehoagland@gmail.com"], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "KmBxbTUcvgeq3kFjujYujoNN"], ["updated_at", "2018-05-02 21:20:24.970090"], ["id", 3]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 83ms (Views: 0.1ms | ActiveRecord: 2.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 17:20:50 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]", "session"=>{"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mehoagland@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "mehoagland@gmail.com"], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "GLC5f4LvDitpxHA7Aq8ZzagL"], ["updated_at", "2018-05-02 21:20:50.769989"], ["id", 3]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:25:18 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.2.0) lib/active_record/migration.rb:579:in `check_pending!'
activerecord (5.2.0) lib/active_record/migration.rb:556:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateFavorites (20180502222005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (230.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_development"[0m
  â†³ bin/rails:4
  [1m[35m (216.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_test"[0m
  â†³ bin/rails:4
  [1m[35m (535.4ms)[0m  [1m[35mCREATE DATABASE "thirsty_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (460.1ms)[0m  [1m[35mCREATE DATABASE "thirsty_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:4
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateUsers (20180502143541)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "email" character varying, "name" character varying, "auth_token" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[35m (6.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_username" ON "users"  ("username")[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502143541"]]
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
Migrating to CreateDrinks (20180502164512)
  [1m[35m (6.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (20.5ms)[0m  [1m[35mCREATE TABLE "drinks" ("id" bigserial primary key, "name" character varying, "description" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_drinks_on_user_id" ON "drinks"  ("user_id")[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502164512"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
Migrating to CreateFavorites (20180502222005)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateFavorites (20180502222005)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateFavorites (20180502222005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (20.8ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "drink_id" character varying, "name" character varying, "url" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502222005_create_favorites.rb:3
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_favorites_on_user_id" ON "favorites"  ("user_id")[0m
  â†³ db/migrate/20180502222005_create_favorites.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502222005"]]
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-05-02 23:30:02.080623"], ["updated_at", "2018-05-02 23:30:02.080623"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:30:29 -0400
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"15395", "name"=>"1-900-FUK-MEUP", "url"=>"https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"}}
Completed 500 Internal Server Error in 71ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `require_login' for #<FavoritesController:0x00007fa524d6b750>
Did you mean?  require):
  
activesupport (5.2.0) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (5.2.0) lib/active_support/callbacks.rb:198:in `block (2 levels) in halting'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (5.2.0) lib/active_support/callbacks.rb:199:in `block in halting'
activesupport (5.2.0) lib/active_support/callbacks.rb:513:in `block in invoke_before'
activesupport (5.2.0) lib/active_support/callbacks.rb:513:in `each'
activesupport (5.2.0) lib/active_support/callbacks.rb:513:in `invoke_before'
activesupport (5.2.0) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.0) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.0) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:134:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:32:05 -0400
Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:32:29 -0400
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"15395", "name"=>"1-900-FUK-MEUP", "url"=>"https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"}}
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:33:35 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 25ms (Views: 0.4ms | ActiveRecord: 8.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:33:44 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"13899", "name"=>"3 Wise Men", "url"=>"https://www.thecocktaildb.com/images/media/drink/wxqpyw1468877677.jpg"}}
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:37:38 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"13899", "name"=>"3 Wise Men", "url"=>"https://www.thecocktaildb.com/images/media/drink/wxqpyw1468877677.jpg"}}
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:41:20 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"13899", "name"=>"3 Wise Men", "url"=>"https://www.thecocktaildb.com/images/media/drink/wxqpyw1468877677.jpg"}}
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:41:39 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]", "session"=>{"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mehoagland@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:41:51 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"14029", "name"=>"'57 Chevy with a White License Plate", "url"=>"https://www.thecocktaildb.com/images/media/drink/qyyvtu1468878544.jpg"}}
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:42:06 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]", "session"=>{"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mehoagland@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:43:20 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]", "session"=>{"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mehoagland@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:43:40 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"14029", "name"=>"'57 Chevy with a White License Plate", "url"=>"https://www.thecocktaildb.com/images/media/drink/qyyvtu1468878544.jpg"}}
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:44:05 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:44:21 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"hj", "password"=>"[FILTERED]", "session"=>{"username"=>"hj", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "hj"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:44:31 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:44:33 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.5ms | ActiveRecord: 0.4ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:44:34 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:44:41 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]", "session"=>{"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mehoagland@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:44:42 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]", "session"=>{"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mehoagland@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:44:51 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]", "session"=>{"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mehoagland@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:45:02 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]", "session"=>{"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mehoagland@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at 2018-05-02 19:45:34 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"cat", "password"=>"[FILTERED]", "email"=>"cat@cat.com", "name"=>"cat1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "cat"], ["password_digest", "$2a$10$ZI6NHLbsUWMOj8gmtijgSOM9/3yuPwFK7xj.dn4mrvbMpLUS3fLaa"], ["email", "cat@cat.com"], ["name", "cat1"], ["auth_token", "PjAwkLc8nMDdVknGDCMe4Ndb"], ["created_at", "2018-05-02 23:45:34.809360"], ["updated_at", "2018-05-02 23:45:34.809360"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 94ms (Views: 0.2ms | ActiveRecord: 5.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:45:50 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "hc7weojKM22kcDVnmGNCRBmp"], ["updated_at", "2018-05-02 23:45:50.212988"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 90ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:46:02 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "BNYtmBLBiZqTe4dy254pTq22"], ["updated_at", "2018-05-02 23:46:03.001871"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.1ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:46:22 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"14560", "name"=>"A.D.M. (After Dinner Mint)", "url"=>"https://www.thecocktaildb.com/images/media/drink/ruxuvp1472669600.jpg"}}
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:46:59 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "RCyFaNFJjCHfoQsmNfnPGmFx"], ["updated_at", "2018-05-02 23:46:59.422270"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:48:43 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"14029", "name"=>"'57 Chevy with a White License Plate", "url"=>"https://www.thecocktaildb.com/images/media/drink/qyyvtu1468878544.jpg"}}
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:50:42 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]", "session"=>{"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mehoagland@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.5ms | ActiveRecord: 0.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:50:49 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]", "session"=>{"username"=>"mehoagland@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mehoagland@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:51:02 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "7pc7jvNaSEtUeitous7aZ2Pk"], ["updated_at", "2018-05-02 23:51:02.415173"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:51:10 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"14029", "name"=>"'57 Chevy with a White License Plate", "url"=>"https://www.thecocktaildb.com/images/media/drink/qyyvtu1468878544.jpg"}}
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:55:25 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "DRuKn2ZpN1wxNMYLSJkXueHU"], ["updated_at", "2018-05-02 23:55:25.540837"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:55:37 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"15346", "name"=>"155 Belmont", "url"=>"https://www.thecocktaildb.com/images/media/drink/yqvvqs1475667388.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "DRuKn2ZpN1wxNMYLSJkXueHU"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "DRuKn2ZpN1wxNMYLSJkXueHU"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (1.0ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "15346"], ["name", "155 Belmont"], ["url", "https://www.thecocktaildb.com/images/media/drink/yqvvqs1475667388.jpg"], ["user_id", 1], ["created_at", "2018-05-02 23:55:37.557943"], ["updated_at", "2018-05-02 23:55:37.557943"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 42ms (Views: 0.5ms | ActiveRecord: 10.8ms)


  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:59:03 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"14364", "name"=>"Aztec Punch", "url"=>"https://www.thecocktaildb.com/images/media/drink/uqwuyp1454514591.jpg"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 0.3ms | ActiveRecord: 3.4ms)


Started POST "/login" for 127.0.0.1 at 2018-05-02 19:59:26 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "5euvkstf5WjnAXdHVdRtQkeZ"], ["updated_at", "2018-05-02 23:59:26.249723"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 99ms (Views: 0.2ms | ActiveRecord: 7.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-02 19:59:41 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"11019", "name"=>"Alfie Cocktail", "url"=>"https://www.thecocktaildb.com/images/media/drink/ypxsqy1483387829.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "5euvkstf5WjnAXdHVdRtQkeZ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "5euvkstf5WjnAXdHVdRtQkeZ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "11019"], ["name", "Alfie Cocktail"], ["url", "https://www.thecocktaildb.com/images/media/drink/ypxsqy1483387829.jpg"], ["user_id", 1], ["created_at", "2018-05-02 23:59:41.163057"], ["updated_at", "2018-05-02 23:59:41.163057"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 27ms (Views: 1.0ms | ActiveRecord: 6.7ms)


Started POST "/users" for 127.0.0.1 at 2018-05-03 10:02:09 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"duck", "password"=>"[FILTERED]", "email"=>"duck@duck.com", "name"=>"ducky"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "duck"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (13.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "duck"], ["password_digest", "$2a$10$DyhIHluVHAoZxPSceDU9qe9Zz2k3KvhgigUzeHAk/FCT810Xc9CSC"], ["email", "duck@duck.com"], ["name", "ducky"], ["auth_token", "RqUjyiSEcZv1J1SaGNKYBBzL"], ["created_at", "2018-05-03 14:02:09.934951"], ["updated_at", "2018-05-03 14:02:09.934951"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 123ms (Views: 0.4ms | ActiveRecord: 36.9ms)


Started POST "/users" for 127.0.0.1 at 2018-05-03 10:34:38 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"ewok", "password"=>"[FILTERED]", "email"=>"ewok@ewok.com", "name"=>"ewok"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ewok"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "ewok"], ["password_digest", "$2a$10$AMLvFKwnFtAanlV5ka9fZOvHMc.usPXv80F7W2kmJEAJQ5XGp00VS"], ["email", "ewok@ewok.com"], ["name", "ewok"], ["auth_token", "ruwPvt8orzod7mZSS1Q1PrXj"], ["created_at", "2018-05-03 14:34:38.434322"], ["updated_at", "2018-05-03 14:34:38.434322"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 90ms (Views: 0.3ms | ActiveRecord: 6.5ms)


Started POST "/users" for 127.0.0.1 at 2018-05-03 11:15:42 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"pig", "password"=>"[FILTERED]", "email"=>"pig@pig.com", "name"=>"piggy"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "pig"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "pig"], ["password_digest", "$2a$10$HQArCeLWDhko5lBB335vF.yHwHSN5NC097saTzaGJALPZ3PLT7Mbu"], ["email", "pig@pig.com"], ["name", "piggy"], ["auth_token", "mDCPFNKx7mHhVkFziERWoEB3"], ["created_at", "2018-05-03 15:15:42.657714"], ["updated_at", "2018-05-03 15:15:42.657714"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 84ms (Views: 0.8ms | ActiveRecord: 4.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-03 11:46:07 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"13899", "name"=>"3 Wise Men", "url"=>"https://www.thecocktaildb.com/images/media/drink/wxqpyw1468877677.jpg"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "mDCPFNKx7mHhVkFziERWoEB3"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "mDCPFNKx7mHhVkFziERWoEB3"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "13899"], ["name", "3 Wise Men"], ["url", "https://www.thecocktaildb.com/images/media/drink/wxqpyw1468877677.jpg"], ["user_id", 4], ["created_at", "2018-05-03 15:46:07.857636"], ["updated_at", "2018-05-03 15:46:07.857636"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 41ms (Views: 0.5ms | ActiveRecord: 14.1ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-03 11:46:46 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"15346", "name"=>"155 Belmont", "url"=>"https://www.thecocktaildb.com/images/media/drink/yqvvqs1475667388.jpg"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 12:54:00 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 12:54:23 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "UbD63JrDCYMygP2SBJterHad"], ["updated_at", "2018-05-03 16:54:23.943535"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 12:54:26 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 12:55:57 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 12:56:01 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-05-03 12:56:26 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"goat", "password"=>"[FILTERED]", "email"=>"goat@goat.com", "name"=>"goaty"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "goat"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "goat"], ["password_digest", "$2a$10$vlid0QZpwiq/.Pnj0lOrPOeM9Yvgck.1gHLF7N4kavoGj0OpbMHBC"], ["email", "goat@goat.com"], ["name", "goaty"], ["auth_token", "hrkxSYQVXaY1S3cLWfZNN5Qn"], ["created_at", "2018-05-03 16:56:26.639258"], ["updated_at", "2018-05-03 16:56:26.639258"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 3.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-03 12:56:35 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"17226", "name"=>"Adam & Eve", "url"=>"https://www.thecocktaildb.com/images/media/drink/vfeumw1504819077.jpg"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "hrkxSYQVXaY1S3cLWfZNN5Qn"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "hrkxSYQVXaY1S3cLWfZNN5Qn"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "17226"], ["name", "Adam & Eve"], ["url", "https://www.thecocktaildb.com/images/media/drink/vfeumw1504819077.jpg"], ["user_id", 5], ["created_at", "2018-05-03 16:56:35.370890"], ["updated_at", "2018-05-03 16:56:35.370890"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 1.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 12:56:41 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 12:58:50 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:01:17 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:01:20 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:03:15 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:03:27 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:03:37 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:04:35 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:04:39 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:04:47 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:05:01 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:06:49 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:07:03 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:07:40 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:08:27 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:08:31 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:09:48 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:09:55 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:10:01 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:10:46 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:43:45 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:43:49 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:44:04 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 13:44:39 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Q1fcbyX1Cd1w5kmQ16TpWuYq"], ["updated_at", "2018-05-03 17:44:39.691128"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.1ms | ActiveRecord: 3.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:44:43 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-03 13:46:07 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"14029", "name"=>"'57 Chevy with a White License Plate", "url"=>"https://www.thecocktaildb.com/images/media/drink/qyyvtu1468878544.jpg"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Q1fcbyX1Cd1w5kmQ16TpWuYq"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Q1fcbyX1Cd1w5kmQ16TpWuYq"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (1.0ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14029"], ["name", "'57 Chevy with a White License Plate"], ["url", "https://www.thecocktaildb.com/images/media/drink/qyyvtu1468878544.jpg"], ["user_id", 1], ["created_at", "2018-05-03 17:46:07.781513"], ["updated_at", "2018-05-03 17:46:07.781513"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 14ms (Views: 0.5ms | ActiveRecord: 5.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:46:12 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:46:48 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:46:51 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-05-03 13:48:11 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"monkey", "password"=>"[FILTERED]", "email"=>"monkey@monkey.com", "name"=>"monkey"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "monkey"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "monkey"], ["password_digest", "$2a$10$jBEQMOE.UyUXlF0/H6QSXucO.IT/iJilKXTdvzKzpRI8J.Yt4oPb."], ["email", "monkey@monkey.com"], ["name", "monkey"], ["auth_token", "RBxak8AGaGiMHGHJpwE9S9Sn"], ["created_at", "2018-05-03 17:48:11.089430"], ["updated_at", "2018-05-03 17:48:11.089430"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 1.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:48:20 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:50:09 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:50:09 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:50:20 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2018-05-03 13:51:19 -0400
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/lib/ruby/gems/2.5.0/gems/railties-5.2.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/lib/ruby/gems/2.5.0/gems/railties-5.2.0/lib/rails/templates/rails/welcome/index.html.erb (3.9ms)
Completed 200 OK in 16ms (Views: 11.6ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for ::1 at 2018-05-03 13:51:23 -0400
Processing by FavoritesController#index as HTML
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favicon.ico" for ::1 at 2018-05-03 13:51:23 -0400
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:55:20 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:56:31 -0400
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-03 13:57:06 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"17060", "name"=>"24k nightmare", "url"=>"https://www.thecocktaildb.com/images/media/drink/yyrwty1468877498.jpg"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 0.2ms | ActiveRecord: 3.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:57:10 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:58:01 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 13:58:05 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:12:41 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:13:29 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:16:33 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:16:37 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 14:17:37 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "JzC85Sa77Bh82Yxtce1sL1rf"], ["updated_at", "2018-05-03 18:17:37.674812"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 96ms (Views: 0.3ms | ActiveRecord: 7.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:18:02 -0400
Processing by FavoritesController#index as */*
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:24:14 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (22.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "JzC85Sa77Bh82Yxtce1sL1rf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 90ms (Views: 29.9ms | ActiveRecord: 69.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:24:23 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "JzC85Sa77Bh82Yxtce1sL1rf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 26ms (Views: 2.5ms | ActiveRecord: 22.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:25:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "JzC85Sa77Bh82Yxtce1sL1rf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (5.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 11ms (Views: 3.1ms | ActiveRecord: 6.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:26:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "JzC85Sa77Bh82Yxtce1sL1rf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (8.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 18ms (Views: 4.4ms | ActiveRecord: 11.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:33:39 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "JzC85Sa77Bh82Yxtce1sL1rf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (36.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 107ms (Views: 24.3ms | ActiveRecord: 71.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:48:28 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "JzC85Sa77Bh82Yxtce1sL1rf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (20.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 32ms (Views: 4.2ms | ActiveRecord: 26.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 14:55:29 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "bfjVXhMqfyZ1go6uL7dTAiYJ"], ["updated_at", "2018-05-03 18:55:29.353385"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 3.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:55:48 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "bfjVXhMqfyZ1go6uL7dTAiYJ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (9.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 16ms (Views: 3.3ms | ActiveRecord: 9.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 14:57:35 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "bfjVXhMqfyZ1go6uL7dTAiYJ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.4ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 15:00:28 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "bfjVXhMqfyZ1go6uL7dTAiYJ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 15:04:03 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "bfjVXhMqfyZ1go6uL7dTAiYJ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.8ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 15:04:47 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 15:04:50 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 0.3ms | ActiveRecord: 3.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-03 15:07:30 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"15194", "name"=>"Amaretto Shake", "url"=>"https://www.thecocktaildb.com/images/media/drink/xk79al1493069655.jpg"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 15:07:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 15:08:23 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 15:08:24 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.9ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 15:12:54 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "wS53mKitdsga85kJaUGH447m"], ["updated_at", "2018-05-03 19:12:55.008487"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 15:13:13 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 15:18:20 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "JDh8SkRic7U7es46ooZhwhKE"], ["updated_at", "2018-05-03 19:18:20.358093"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.1ms | ActiveRecord: 2.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 15:18:30 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 15:18:41 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 15:21:02 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Z5aNuP3U1QKShsKQ16sGT7Ao"], ["updated_at", "2018-05-03 19:21:02.510978"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 15:24:02 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "im9tHbSALQbNJ5prnyyn4zfF"], ["updated_at", "2018-05-03 19:24:02.782361"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:11:38 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "im9tHbSALQbNJ5prnyyn4zfF"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 1.8ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 16:15:18 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "vkPj5xEPM8t7ZbwWjcLFkkXB"], ["updated_at", "2018-05-03 20:15:18.745108"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 3.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 16:15:32 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.4ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 16:16:46 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "4CwM59aesAHVC9SDqD1mun9S"], ["updated_at", "2018-05-03 20:16:46.881027"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:16:48 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4CwM59aesAHVC9SDqD1mun9S"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 1.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 16:19:21 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "a6K2QSVyYZhCvJYFj3z9oEo5"], ["updated_at", "2018-05-03 20:19:21.686801"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:20:39 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "a6K2QSVyYZhCvJYFj3z9oEo5"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 3.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:20:40 -0400
Processing by SessionsController#destroy as */*
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:22:11 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:22:13 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.2ms | ActiveRecord: 4.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:23:39 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:27:33 -0400
Processing by SessionsController#destroy as */*
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-03 16:27:40 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "379GJgqkR1RRhRJnGRUVjTe2"], ["updated_at", "2018-05-03 20:27:40.190798"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 73ms (Views: 0.1ms | ActiveRecord: 2.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:27:44 -0400
Processing by SessionsController#destroy as */*
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-03 16:29:31 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "R351ZxtzQKC8av8DWd2kZosY"], ["updated_at", "2018-05-03 20:29:31.107325"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 73ms (Views: 0.2ms | ActiveRecord: 1.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:29:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "R351ZxtzQKC8av8DWd2kZosY"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 10ms (Views: 3.2ms | ActiveRecord: 4.7ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-03 16:29:43 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"12790", "name"=>"Absinthe #2", "url"=>"https://www.thecocktaildb.com/images/media/drink/uxxtrt1472667197.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "R351ZxtzQKC8av8DWd2kZosY"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:29:51 -0400
Processing by SessionsController#destroy as */*
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-03 16:29:59 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "t2byGPo9eFxBK9idiMV9Jfwp"], ["updated_at", "2018-05-03 20:29:59.931951"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 73ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:30:01 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "t2byGPo9eFxBK9idiMV9Jfwp"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:30:14 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "t2byGPo9eFxBK9idiMV9Jfwp"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (5.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 11ms (Views: 2.4ms | ActiveRecord: 6.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:30:21 -0400
Processing by SessionsController#destroy as */*
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:34:44 -0400
Processing by SessionsController#destroy as */*
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "RBxak8AGaGiMHGHJpwE9S9Sn"], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-05-03 16:35:30 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "RKSPAarYm6vFTPbQ7yRfnQgC"], ["updated_at", "2018-05-03 20:35:30.626936"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 74ms (Views: 0.2ms | ActiveRecord: 2.2ms)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "RKSPAarYm6vFTPbQ7yRfnQgC"], ["LIMIT", 1]]
Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:35:46 -0400
Processing by SessionsController#destroy as */*
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "RKSPAarYm6vFTPbQ7yRfnQgC"], ["LIMIT", 1]]
Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:36:50 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (13.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 13.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:37:01 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-03 16:37:08 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "VTYkxukL792GVtxtQJbbYisU"], ["updated_at", "2018-05-03 20:37:08.793528"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.1ms | ActiveRecord: 2.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:37:11 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "VTYkxukL792GVtxtQJbbYisU"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 1.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:37:24 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:37:27 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-03 16:39:27 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "qReqh4BeRZSBQ8F6uvt32tJv"], ["updated_at", "2018-05-03 20:39:27.944669"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 74ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:39:32 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "qReqh4BeRZSBQ8F6uvt32tJv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:42:13 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:42:24 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 2.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:44:44 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:45:05 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 16:45:45 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "EfZca8rWxdivmiPsWdJoU62C"], ["updated_at", "2018-05-03 20:45:45.224155"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:45:48 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "EfZca8rWxdivmiPsWdJoU62C"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (10.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 15ms (Views: 3.4ms | ActiveRecord: 10.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:49:10 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:49:10 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "EfZca8rWxdivmiPsWdJoU62C"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 2.4ms | ActiveRecord: 2.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:49:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (14.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "EfZca8rWxdivmiPsWdJoU62C"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (85.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 104ms (Views: 3.2ms | ActiveRecord: 99.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:49:17 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "EfZca8rWxdivmiPsWdJoU62C"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 2.1ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 16:49:37 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "T2A19DzUigdhQB5PrsZvRrvu"], ["updated_at", "2018-05-03 20:49:37.493172"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 74ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:49:39 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "T2A19DzUigdhQB5PrsZvRrvu"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:49:57 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 16:50:12 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-03 16:50:31 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.5ms | ActiveRecord: 3.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:51:06 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-03 16:51:13 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "rV5eHyye2E6M5sjMzM3Hhutu"], ["updated_at", "2018-05-03 20:51:13.663041"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.1ms | ActiveRecord: 2.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:51:15 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "rV5eHyye2E6M5sjMzM3Hhutu"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.7ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 16:51:27 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at 2018-05-03 16:51:47 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"pete", "password"=>"[FILTERED]", "email"=>"pete@pete.com", "name"=>"pete"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "pete"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "pete"], ["password_digest", "$2a$10$EwjFiWCNECOUoB4mcfk8k.LPPdtqn2c.2vpCQLT8.uTUKB0ISvdbu"], ["email", "pete@pete.com"], ["name", "pete"], ["auth_token", "V9ncNtuHH8GtuJpUc9Dx45es"], ["created_at", "2018-05-03 20:51:47.214404"], ["updated_at", "2018-05-03 20:51:47.214404"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:51:56 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "V9ncNtuHH8GtuJpUc9Dx45es"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 7]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 16:52:03 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "9K7zbdLXvS6Lx2Crq6era9CH"], ["updated_at", "2018-05-03 20:52:03.747420"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-03 16:52:05 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9K7zbdLXvS6Lx2Crq6era9CH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 1.4ms)


Started POST "/login" for 127.0.0.1 at 2018-05-03 16:52:11 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"pete", "password"=>"[FILTERED]", "session"=>{"username"=>"pete", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "pete"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "pete"], ["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "y2qMAk5ya2wTqj4K9q5YGkoe"], ["updated_at", "2018-05-03 20:52:11.995679"], ["id", 7]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 75ms (Views: 0.1ms | ActiveRecord: 2.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-04 10:27:08 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "dzzX7HbhYpxpLh4cgbsN2inc"], ["updated_at", "2018-05-04 14:27:08.404537"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 98ms (Views: 0.4ms | ActiveRecord: 8.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-04 10:27:12 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "dzzX7HbhYpxpLh4cgbsN2inc"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 8ms (ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 10:27:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 2.0ms | ActiveRecord: 23.9ms)


Started POST "/login" for 127.0.0.1 at 2018-05-04 10:27:39 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "ra313u6BCsBxnfc42vn2C6yk"], ["updated_at", "2018-05-04 14:27:39.868879"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 83ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 10:27:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ra313u6BCsBxnfc42vn2C6yk"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 30ms (Views: 16.8ms | ActiveRecord: 11.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-04 10:27:49 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ra313u6BCsBxnfc42vn2C6yk"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 1.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-04 10:27:54 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 13:12:55 -0400
  [1m[35m (3.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 0.3ms | ActiveRecord: 4.7ms)


Started POST "/login" for 127.0.0.1 at 2018-05-04 13:30:53 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "rpHhaZPdo2iSLKpUeU7XGZap"], ["updated_at", "2018-05-04 17:30:53.375570"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 101ms (Views: 0.2ms | ActiveRecord: 7.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 13:30:55 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "rpHhaZPdo2iSLKpUeU7XGZap"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 34ms (Views: 15.4ms | ActiveRecord: 8.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-04 13:31:56 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "rpHhaZPdo2iSLKpUeU7XGZap"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-04 13:32:00 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-04 13:40:18 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["updated_at", "2018-05-04 17:40:19.034718"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 85ms (Views: 0.2ms | ActiveRecord: 8.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:07:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 1.4ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 14:07:03 -0400
  
AbstractController::ActionNotFound (The action 'destroy' could not be found for FavoritesController):
  
actionpack (5.2.0) lib/abstract_controller/base.rb:129:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:07:05 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:07:12 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 8ms (Views: 4.0ms | ActiveRecord: 1.6ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 14:07:14 -0400
  
AbstractController::ActionNotFound (The action 'destroy' could not be found for FavoritesController):
  
actionpack (5.2.0) lib/abstract_controller/base.rb:129:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:07:16 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 1.2ms)


Started DELETE "/favorites/5" for 127.0.0.1 at 2018-05-04 14:07:19 -0400
  
AbstractController::ActionNotFound (The action 'destroy' could not be found for FavoritesController):
  
actionpack (5.2.0) lib/abstract_controller/base.rb:129:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:07:20 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (3.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 9ms (Views: 3.4ms | ActiveRecord: 3.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:07:50 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 1.7ms | ActiveRecord: 3.3ms)


Started DELETE "/favorites/4" for 127.0.0.1 at 2018-05-04 14:09:13 -0400
  
AbstractController::ActionNotFound (The action 'destroy' could not be found for FavoritesController):
  
actionpack (5.2.0) lib/abstract_controller/base.rb:129:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:09:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.5ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 14:09:29 -0400
  
AbstractController::ActionNotFound (The action 'destroy' could not be found for FavoritesController):
  
actionpack (5.2.0) lib/abstract_controller/base.rb:129:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:10:34 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 82ms (Views: 15.7ms | ActiveRecord: 30.2ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 14:10:36 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:10:38 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 1.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:11:07 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 31ms (Views: 11.2ms | ActiveRecord: 6.4ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 14:11:08 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:11:10 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.7ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 14:11:29 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:11:54 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (3.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 11ms (Views: 3.3ms | ActiveRecord: 4.2ms)


Started DELETE "/favorites/4" for 127.0.0.1 at 2018-05-04 14:11:56 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"4", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:11:58 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 2.5ms | ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:12:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 0.8ms)


Started DELETE "/favorites/5" for 127.0.0.1 at 2018-05-04 14:12:02 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"5", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:12:04 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 1.5ms)


  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:15:34 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:15:56 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 1.4ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 14:15:57 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:15:58 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:16:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:16:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:16:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.6ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 14:16:42 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:16:43 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:16:44 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.6ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 14:16:58 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:17:18 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:17:36 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:17:49 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.6ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 14:17:56 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.3ms | ActiveRecord: 2.4ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 14:17:57 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:18:08 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 12ms (Views: 6.3ms | ActiveRecord: 3.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:18:31 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (6.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 11ms (Views: 2.5ms | ActiveRecord: 6.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:20:16 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 1.9ms | ActiveRecord: 1.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:20:20 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.7ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 14:20:21 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:20:27 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:20:29 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (45.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 51ms (Views: 2.4ms | ActiveRecord: 47.4ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 14:20:31 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:21:07 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.5ms)


Started DELETE "/favorites/4" for 127.0.0.1 at 2018-05-04 14:21:09 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"4", "favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:21:11 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:21:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 1.2ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 14:21:35 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.6ms)


Started DELETE "/favorites/4" for 127.0.0.1 at 2018-05-04 14:21:40 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"4", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:23:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 36ms (Views: 11.8ms | ActiveRecord: 19.5ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 14:23:01 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:23:03 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (4.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 8ms (Views: 2.4ms | ActiveRecord: 4.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:23:57 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (8.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 82ms (Views: 14.1ms | ActiveRecord: 189.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:23:59 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 2.3ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 14:24:00 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:24:02 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (9.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 14ms (Views: 2.5ms | ActiveRecord: 9.8ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 14:24:06 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:24:08 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 3.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:25:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (73.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 78ms (Views: 2.6ms | ActiveRecord: 74.5ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 14:25:23 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:25:27 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.9ms)


Started DELETE "/favorites/4" for 127.0.0.1 at 2018-05-04 14:40:51 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"4", "favorite"=>{}}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 8ms (Views: 2.1ms | ActiveRecord: 3.7ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 14:45:46 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 8ms (Views: 2.2ms | ActiveRecord: 1.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 14:45:49 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 1.6ms)


Started DELETE "/favorites/3" for 127.0.0.1 at 2018-05-04 14:45:52 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"3", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:06:51 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 1.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:08:51 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 2.8ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 15:08:53 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 1.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-04 15:10:42 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TuvXkXavEy9NsC9hxkHPJsgH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:12:32 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (13.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 13.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:12:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:23:21 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started POST "/login" for 127.0.0.1 at 2018-05-04 15:23:30 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["updated_at", "2018-05-04 19:23:30.958021"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 2.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:23:32 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 1.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:23:38 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 1.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:23:42 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 1.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:23:58 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (14.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 21ms (Views: 3.3ms | ActiveRecord: 15.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:24:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:28:17 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:28:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 1.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:28:46 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:30:47 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:30:54 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 1.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:31:42 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:31:45 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 1.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:32:48 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 2.8ms | ActiveRecord: 1.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:33:02 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 2.8ms | ActiveRecord: 2.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:33:18 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 2.9ms | ActiveRecord: 1.6ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 15:33:21 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 1.6ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 15:33:50 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 2.5ms | ActiveRecord: 2.5ms)


Started DELETE "/favorites/3" for 127.0.0.1 at 2018-05-04 15:36:37 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"3", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 1.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:38:04 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 2.5ms | ActiveRecord: 2.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:38:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 10ms (Views: 2.6ms | ActiveRecord: 6.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-04 15:40:22 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"14588", "name"=>"151 Florida Bushwacker", "url"=>"https://www.thecocktaildb.com/images/media/drink/rvwrvv1468877323.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FbUXpZMrpDudNvZfM6hVvqX4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:40:26 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 1.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:40:40 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-04 15:40:47 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-04 15:40:52 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "fpPtXhqK1djZ32qwsbJC9iEw"], ["updated_at", "2018-05-04 19:40:52.464363"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:40:53 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "fpPtXhqK1djZ32qwsbJC9iEw"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 2.1ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-04 15:41:00 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"14588", "name"=>"151 Florida Bushwacker", "url"=>"https://www.thecocktaildb.com/images/media/drink/rvwrvv1468877323.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "fpPtXhqK1djZ32qwsbJC9iEw"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:41:05 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started POST "/users" for 127.0.0.1 at 2018-05-04 15:42:21 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"rabbit", "password"=>"[FILTERED]", "email"=>"rabbit@rabbit.com", "name"=>"rabbit"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rabbit"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "rabbit"], ["password_digest", "$2a$10$LASClqgJFVguw.kcOOLQkeBaSiGlKLzSXd8TUQf8YABAoeiY58daS"], ["email", "rabbit@rabbit.com"], ["name", "rabbit"], ["auth_token", "4cYuvQSSpky4axgC7UNyEXF6"], ["created_at", "2018-05-04 19:42:21.717880"], ["updated_at", "2018-05-04 19:42:21.717880"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 83ms (Views: 0.3ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-04 15:42:38 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"15346", "name"=>"155 Belmont", "url"=>"https://www.thecocktaildb.com/images/media/drink/yqvvqs1475667388.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4cYuvQSSpky4axgC7UNyEXF6"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:42:42 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (11.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 13ms (Views: 0.2ms | ActiveRecord: 11.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:44:12 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:44:16 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:44:25 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 0.6ms | ActiveRecord: 4.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:45:55 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:46:01 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-04 15:46:12 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-04 15:46:19 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["updated_at", "2018-05-04 19:46:19.490200"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 83ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:46:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 13ms (Views: 4.5ms | ActiveRecord: 6.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:47:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (7.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 14ms (Views: 3.5ms | ActiveRecord: 8.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:47:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (16.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 20ms (Views: 1.9ms | ActiveRecord: 16.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:47:42 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:47:45 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (7.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 13ms (Views: 2.9ms | ActiveRecord: 8.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:48:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:48:45 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (3.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 12ms (Views: 3.0ms | ActiveRecord: 7.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:48:57 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 1.9ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 15:48:59 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.5ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 15:49:04 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:49:13 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.9ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 15:49:14 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:49:19 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 2.9ms | ActiveRecord: 2.0ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 15:53:00 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"user"=>{"username"=>"001test", "password"=>"[FILTERED]", "email"=>"test@test.com", "name"=>"test"}, "id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.5ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 15:56:09 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"user"=>{"username"=>"001test", "password"=>"[FILTERED]", "email"=>"test@test.com", "name"=>"test"}, "id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.8ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 15:58:31 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"user"=>{"username"=>"001test", "password"=>"[FILTERED]", "email"=>"test@test.com", "name"=>"test"}, "id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "e2imRESxDoWJdN82U211BhEL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 1.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 15:59:09 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.3ms | ActiveRecord: 4.4ms)


Started POST "/login" for 127.0.0.1 at 2018-05-04 15:59:19 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["updated_at", "2018-05-04 19:59:19.483033"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 15:59:45 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"user"=>{"username"=>"001test", "password"=>"[FILTERED]", "email"=>"test@test.com", "name"=>"test"}, "id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 1.5ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 16:00:06 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"user"=>{"username"=>"001test", "password"=>"[FILTERED]", "email"=>"test@test.com", "name"=>"test"}, "id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.9ms)


Started DELETE "/users/1" for 127.0.0.1 at 2018-05-04 16:01:42 -0400
  
AbstractController::ActionNotFound (The action 'destroy' could not be found for UsersController):
  
actionpack (5.2.0) lib/abstract_controller/base.rb:129:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/1" for 127.0.0.1 at 2018-05-04 16:01:50 -0400
  
AbstractController::ActionNotFound (The action 'show' could not be found for UsersController):
  
actionpack (5.2.0) lib/abstract_controller/base.rb:129:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/1" for 127.0.0.1 at 2018-05-04 16:01:59 -0400
  
AbstractController::ActionNotFound (The action 'show' could not be found for UsersController):
  
actionpack (5.2.0) lib/abstract_controller/base.rb:129:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/user/1" for 127.0.0.1 at 2018-05-04 16:02:14 -0400
  
ActionController::RoutingError (No route matches [GET] "/user/1"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/user/1" for 127.0.0.1 at 2018-05-04 16:02:29 -0400
  
ActionController::RoutingError (No route matches [GET] "/user/1"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/" for 127.0.0.1 at 2018-05-04 16:02:54 -0400
  
AbstractController::ActionNotFound (The action 'index' could not be found for UsersController):
  
actionpack (5.2.0) lib/abstract_controller/base.rb:129:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/api/users/" for 127.0.0.1 at 2018-05-04 16:03:07 -0400
  
ActionController::RoutingError (No route matches [GET] "/api/users"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/drinks/users/" for 127.0.0.1 at 2018-05-04 16:03:13 -0400
  
ActionController::RoutingError (No route matches [GET] "/drinks/users"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:08:57 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 1.8ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 16:08:59 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:08:59 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.8ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 16:12:11 -0400
  [1m[35m (6.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 52ms (Views: 23.3ms | ActiveRecord: 8.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:12:14 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 11ms (Views: 3.6ms | ActiveRecord: 5.2ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 16:12:16 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:12:16 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:12:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (28.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (21.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 57ms (Views: 4.7ms | ActiveRecord: 50.2ms)


Started DELETE "/favorites/5" for 127.0.0.1 at 2018-05-04 16:12:26 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"5", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:12:26 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.6ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 16:12:31 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:12:31 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:12:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 9ms (Views: 4.4ms | ActiveRecord: 3.2ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 16:13:03 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:13:03 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:13:47 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:13:59 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 7ms (Views: 3.0ms | ActiveRecord: 0.9ms)


Started DELETE "/drinks/favorites/2" for 127.0.0.1 at 2018-05-04 16:14:04 -0400
  
ActionController::RoutingError (No route matches [DELETE] "/drinks/favorites/2"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:14:04 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:14:05 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (19.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 26ms (Views: 2.8ms | ActiveRecord: 21.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:14:57 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:15:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (23.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (38.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 66ms (Views: 2.9ms | ActiveRecord: 61.8ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 16:15:02 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:15:02 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:15:03 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (9.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (12.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 33ms (Views: 4.4ms | ActiveRecord: 22.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:15:34 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:15:43 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 11ms (Views: 3.7ms | ActiveRecord: 5.6ms)


Started DELETE "/favorite/2" for 127.0.0.1 at 2018-05-04 16:15:44 -0400
  
ActionController::RoutingError (No route matches [DELETE] "/favorite/2"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:15:44 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:16:09 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.5ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 16:16:22 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:16:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:29:10 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 87ms (Views: 24.7ms | ActiveRecord: 12.0ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 16:29:22 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 1.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:29:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:30:02 -0400
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:9
Filter chain halted as :index rendered or redirected
Completed 200 OK in 120ms (Views: 9.8ms | ActiveRecord: 46.2ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 16:30:11 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:9
Filter chain halted as :index rendered or redirected
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:30:11 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:9
Filter chain halted as :index rendered or redirected
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.7ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 16:30:23 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:9
Filter chain halted as :index rendered or redirected
Completed 200 OK in 27ms (Views: 9.9ms | ActiveRecord: 9.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:30:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (7.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:9
Filter chain halted as :index rendered or redirected
Completed 200 OK in 11ms (Views: 2.3ms | ActiveRecord: 7.6ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 16:30:58 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:34
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:35
  [1m[36mFavorite Destroy (1.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/favorites_controller.rb:35
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:35
Redirected to http://localhost:3000/favorites/1
Completed 302 Found in 45ms (ActiveRecord: 12.4ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-04 16:30:59 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:34
Completed 404 Not Found in 4ms (ActiveRecord: 1.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=1):
  
app/controllers/favorites_controller.rb:34:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:30:59 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:9
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 1.2ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 16:31:10 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:34
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:35
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/favorites_controller.rb:35
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:35
Redirected to http://localhost:3000/favorites/2
Completed 302 Found in 8ms (ActiveRecord: 3.0ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-04 16:31:10 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:34
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=2):
  
app/controllers/favorites_controller.rb:34:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:31:10 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:9
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.6ms)


Started DELETE "/favorites/5" for 127.0.0.1 at 2018-05-04 16:32:25 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"5", "favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 5]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/5
Completed 302 Found in 34ms (ActiveRecord: 15.5ms)


Started DELETE "/favorites/5" for 127.0.0.1 at 2018-05-04 16:32:26 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"5", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=5):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:32:26 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-04 16:38:52 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jKCAQ2h9QPF94hTi8WzxCVjr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 29ms (ActiveRecord: 6.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-04 16:39:00 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "eh6rZktNwv1YdribjBsH5bCN"], ["updated_at", "2018-05-04 20:39:00.877585"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 84ms (Views: 0.3ms | ActiveRecord: 3.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:39:02 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eh6rZktNwv1YdribjBsH5bCN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 14.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:39:07 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eh6rZktNwv1YdribjBsH5bCN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.6ms)


Started DELETE "/favorites/3" for 127.0.0.1 at 2018-05-04 16:39:08 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"3", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eh6rZktNwv1YdribjBsH5bCN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/3
Completed 302 Found in 7ms (ActiveRecord: 2.4ms)


Started DELETE "/favorites/3" for 127.0.0.1 at 2018-05-04 16:39:08 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"3", "favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eh6rZktNwv1YdribjBsH5bCN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 3ms (ActiveRecord: 0.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=3):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:39:08 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eh6rZktNwv1YdribjBsH5bCN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 1.3ms)


Started DELETE "/favorites/4" for 127.0.0.1 at 2018-05-04 16:39:09 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"4", "favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eh6rZktNwv1YdribjBsH5bCN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.7ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/4
Completed 302 Found in 7ms (ActiveRecord: 2.9ms)


Started DELETE "/favorites/4" for 127.0.0.1 at 2018-05-04 16:39:09 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"4", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eh6rZktNwv1YdribjBsH5bCN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=4):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:39:09 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eh6rZktNwv1YdribjBsH5bCN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 1.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-04 16:40:12 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"14167", "name"=>"Vodka Martini", "url"=>"https://www.thecocktaildb.com/images/media/drink/qyxrqw1439906528.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eh6rZktNwv1YdribjBsH5bCN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eh6rZktNwv1YdribjBsH5bCN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14167"], ["name", "Vodka Martini"], ["url", "https://www.thecocktaildb.com/images/media/drink/qyxrqw1439906528.jpg"], ["user_id", 1], ["created_at", "2018-05-04 20:40:12.644758"], ["updated_at", "2018-05-04 20:40:12.644758"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 27ms (Views: 0.5ms | ActiveRecord: 7.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-04 16:40:18 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"14167", "name"=>"Vodka Martini", "url"=>"https://www.thecocktaildb.com/images/media/drink/qyxrqw1439906528.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:40:23 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 2.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:40:34 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 0.4ms | ActiveRecord: 5.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:40:47 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.2ms | ActiveRecord: 4.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-04 16:40:55 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-04 16:41:00 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "6VWh9drWwhEZ7qdFKX6tkC8p"], ["updated_at", "2018-05-04 20:41:00.646374"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:41:02 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "6VWh9drWwhEZ7qdFKX6tkC8p"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 1.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:41:56 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "6VWh9drWwhEZ7qdFKX6tkC8p"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (4.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 8ms (Views: 1.6ms | ActiveRecord: 4.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-04 16:42:00 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "6VWh9drWwhEZ7qdFKX6tkC8p"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-04 16:42:05 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Bxn8SHwbR4RZP4gZW97DArmf"], ["updated_at", "2018-05-04 20:42:05.751941"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started POST "/users" for 127.0.0.1 at 2018-05-04 16:42:22 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"frog", "password"=>"[FILTERED]", "email"=>"frog@frog.com", "name"=>"frog"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "frog"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "frog"], ["password_digest", "$2a$10$klCVTvo4DXrF7Q3jD.gVfuElsVgwt7l05U3ohlvjZhOWcFyzE8E9K"], ["email", "frog@frog.com"], ["name", "frog"], ["auth_token", "nYgkiJqGzeU7Y65N3uYxsQNy"], ["created_at", "2018-05-04 20:42:22.736407"], ["updated_at", "2018-05-04 20:42:22.736407"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 1.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:42:26 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "nYgkiJqGzeU7Y65N3uYxsQNy"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:42:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "nYgkiJqGzeU7Y65N3uYxsQNy"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 1.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-04 16:43:17 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"11936", "name"=>"Pink Gin", "url"=>"https://www.thecocktaildb.com/images/media/drink/qyr51e1504888618.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "nYgkiJqGzeU7Y65N3uYxsQNy"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "nYgkiJqGzeU7Y65N3uYxsQNy"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "11936"], ["name", "Pink Gin"], ["url", "https://www.thecocktaildb.com/images/media/drink/qyr51e1504888618.jpg"], ["user_id", 9], ["created_at", "2018-05-04 20:43:17.099124"], ["updated_at", "2018-05-04 20:43:17.099124"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:43:20 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:43:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-04 16:43:50 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"11936", "name"=>"Pink Gin", "url"=>"https://www.thecocktaildb.com/images/media/drink/qyr51e1504888618.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:43:53 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (10.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 0.2ms | ActiveRecord: 10.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-04 16:44:09 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-04 16:44:14 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"frog", "password"=>"[FILTERED]", "session"=>{"username"=>"frog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "frog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "frog"], ["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "nym6DuQ7RWPHzqNoueKMtFH1"], ["updated_at", "2018-05-04 20:44:15.023110"], ["id", 9]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:44:16 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "nym6DuQ7RWPHzqNoueKMtFH1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-04 16:45:01 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "nym6DuQ7RWPHzqNoueKMtFH1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 1.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-05 13:28:15 -0400
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "zsjrf6jp4yNRVRYEiWZMFU9n"], ["updated_at", "2018-05-05 17:28:16.293488"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 120ms (Views: 0.3ms | ActiveRecord: 16.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:28:20 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zsjrf6jp4yNRVRYEiWZMFU9n"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 13ms (Views: 8.0ms | ActiveRecord: 7.3ms)


Started DELETE "/favorites/7" for 127.0.0.1 at 2018-05-05 13:28:22 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"7", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zsjrf6jp4yNRVRYEiWZMFU9n"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 7]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/7
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)


Started DELETE "/favorites/7" for 127.0.0.1 at 2018-05-05 13:28:22 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"7", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zsjrf6jp4yNRVRYEiWZMFU9n"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=7):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:28:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zsjrf6jp4yNRVRYEiWZMFU9n"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:28:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zsjrf6jp4yNRVRYEiWZMFU9n"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.9ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-05 13:30:43 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"11417", "name"=>"Gin Sour", "url"=>"https://www.thecocktaildb.com/images/media/drink/mt7l7m1504883523.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zsjrf6jp4yNRVRYEiWZMFU9n"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zsjrf6jp4yNRVRYEiWZMFU9n"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "11417"], ["name", "Gin Sour"], ["url", "https://www.thecocktaildb.com/images/media/drink/mt7l7m1504883523.jpg"], ["user_id", 1], ["created_at", "2018-05-05 17:30:43.847872"], ["updated_at", "2018-05-05 17:30:43.847872"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 26ms (Views: 0.4ms | ActiveRecord: 7.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-05 13:30:53 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"15024", "name"=>"Absolutely Cranberry Smash", "url"=>"https://www.thecocktaildb.com/images/media/drink/vqwstv1472811884.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:30:57 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:31:12 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:31:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:31:32 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-05 13:31:39 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-05 13:31:45 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "nWGNyiz3kuib3gvf7E5CB8S2"], ["updated_at", "2018-05-05 17:31:45.667112"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.3ms | ActiveRecord: 3.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:31:46 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "nWGNyiz3kuib3gvf7E5CB8S2"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (3.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 9ms (Views: 2.9ms | ActiveRecord: 4.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-05 13:32:02 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "nWGNyiz3kuib3gvf7E5CB8S2"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.8ms)


Started POST "/login" for 127.0.0.1 at 2018-05-05 13:32:06 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Kmmt3pwGyiQyASKN9cMVhEHN"], ["updated_at", "2018-05-05 17:32:07.006467"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.3ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:32:09 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Kmmt3pwGyiQyASKN9cMVhEHN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.7ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-05 13:32:19 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"14029", "name"=>"'57 Chevy with a White License Plate", "url"=>"https://www.thecocktaildb.com/images/media/drink/qyyvtu1468878544.jpg"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Kmmt3pwGyiQyASKN9cMVhEHN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Kmmt3pwGyiQyASKN9cMVhEHN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14029"], ["name", "'57 Chevy with a White License Plate"], ["url", "https://www.thecocktaildb.com/images/media/drink/qyyvtu1468878544.jpg"], ["user_id", 1], ["created_at", "2018-05-05 17:32:19.149184"], ["updated_at", "2018-05-05 17:32:19.149184"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 2.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:32:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:32:53 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-05 13:37:23 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-05 13:37:27 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "J3nRxhykQibYPtsdkqBnwJ8a"], ["updated_at", "2018-05-05 17:37:27.840783"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:37:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "J3nRxhykQibYPtsdkqBnwJ8a"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 1.9ms | ActiveRecord: 3.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-05 13:37:39 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"15395", "name"=>"1-900-FUK-MEUP", "url"=>"https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "J3nRxhykQibYPtsdkqBnwJ8a"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "J3nRxhykQibYPtsdkqBnwJ8a"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "15395"], ["name", "1-900-FUK-MEUP"], ["url", "https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"], ["user_id", 1], ["created_at", "2018-05-05 17:37:39.585246"], ["updated_at", "2018-05-05 17:37:39.585246"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 2.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:37:42 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:40:05 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.4ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:40:09 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:40:11 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 0.3ms | ActiveRecord: 6.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:40:27 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:40:29 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (17.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 19ms (Views: 0.2ms | ActiveRecord: 17.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:40:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:42:39 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:42:42 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:42:47 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:44:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:45:54 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:45:56 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:46:04 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:48:09 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:48:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 2.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-05 13:48:28 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-05 13:48:32 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "vjY499STskaXoCkWQK2yYYY6"], ["updated_at", "2018-05-05 17:48:32.646785"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-05 13:48:40 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"11010", "name"=>"After Dinner Cocktail", "url"=>"https://www.thecocktaildb.com/images/media/drink/vtytxq1483387578.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "vjY499STskaXoCkWQK2yYYY6"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "vjY499STskaXoCkWQK2yYYY6"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "11010"], ["name", "After Dinner Cocktail"], ["url", "https://www.thecocktaildb.com/images/media/drink/vtytxq1483387578.jpg"], ["user_id", 1], ["created_at", "2018-05-05 17:48:40.372521"], ["updated_at", "2018-05-05 17:48:40.372521"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:48:45 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:49:08 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:49:12 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:49:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-05 13:49:20 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-05 13:49:25 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "U1nVyeL9iHXCM8EbpLGAqwj1"], ["updated_at", "2018-05-05 17:49:25.195939"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:49:27 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "U1nVyeL9iHXCM8EbpLGAqwj1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (5.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 19ms (Views: 5.3ms | ActiveRecord: 10.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:49:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "U1nVyeL9iHXCM8EbpLGAqwj1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (16.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 21ms (Views: 2.3ms | ActiveRecord: 17.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:49:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "U1nVyeL9iHXCM8EbpLGAqwj1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:49:52 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (9.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "U1nVyeL9iHXCM8EbpLGAqwj1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 14ms (Views: 2.5ms | ActiveRecord: 9.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-05 13:49:57 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "U1nVyeL9iHXCM8EbpLGAqwj1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-05 13:50:01 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "avXMd41zB1eDHbLtMJCpPjMz"], ["updated_at", "2018-05-05 17:50:01.994895"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:50:03 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "avXMd41zB1eDHbLtMJCpPjMz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:50:05 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "avXMd41zB1eDHbLtMJCpPjMz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 3.0ms | ActiveRecord: 1.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:50:07 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (14.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "avXMd41zB1eDHbLtMJCpPjMz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 19ms (Views: 1.8ms | ActiveRecord: 15.4ms)


Started DELETE "/favorites/6" for 127.0.0.1 at 2018-05-05 13:50:14 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"6", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "avXMd41zB1eDHbLtMJCpPjMz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (2.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 6]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/6
Completed 302 Found in 7ms (ActiveRecord: 3.3ms)


Started DELETE "/favorites/6" for 127.0.0.1 at 2018-05-05 13:50:14 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"6", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "avXMd41zB1eDHbLtMJCpPjMz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 3ms (ActiveRecord: 0.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=6):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:50:14 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "avXMd41zB1eDHbLtMJCpPjMz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:50:16 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "avXMd41zB1eDHbLtMJCpPjMz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 10ms (Views: 2.7ms | ActiveRecord: 5.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-05 13:50:25 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"15194", "name"=>"Amaretto Shake", "url"=>"https://www.thecocktaildb.com/images/media/drink/xk79al1493069655.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "avXMd41zB1eDHbLtMJCpPjMz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "avXMd41zB1eDHbLtMJCpPjMz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "15194"], ["name", "Amaretto Shake"], ["url", "https://www.thecocktaildb.com/images/media/drink/xk79al1493069655.jpg"], ["user_id", 1], ["created_at", "2018-05-05 17:50:25.309229"], ["updated_at", "2018-05-05 17:50:25.309229"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 11ms (Views: 0.6ms | ActiveRecord: 6.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:50:29 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 1.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:57:19 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:58:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:58:08 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 0.2ms | ActiveRecord: 6.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-05 13:58:17 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-05 13:58:22 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "EAdNQispVj27Q6uSoWvH3gd2"], ["updated_at", "2018-05-05 17:58:22.698958"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:58:23 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "EAdNQispVj27Q6uSoWvH3gd2"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 8ms (Views: 2.5ms | ActiveRecord: 2.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-05 13:58:41 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"15395", "name"=>"1-900-FUK-MEUP", "url"=>"https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "EAdNQispVj27Q6uSoWvH3gd2"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "EAdNQispVj27Q6uSoWvH3gd2"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "15395"], ["name", "1-900-FUK-MEUP"], ["url", "https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"], ["user_id", 1], ["created_at", "2018-05-05 17:58:41.794897"], ["updated_at", "2018-05-05 17:58:41.794897"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 2.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 13:58:50 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (15.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 17ms (Views: 0.2ms | ActiveRecord: 15.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:00:13 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-05 14:00:21 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-05 14:00:26 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "zgSdc9xhVg6Azeb1v8YMWAvv"], ["updated_at", "2018-05-05 18:00:26.386690"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 73ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:00:28 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zgSdc9xhVg6Azeb1v8YMWAvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 10ms (Views: 3.2ms | ActiveRecord: 4.8ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-05 14:00:34 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{"drink_id"=>"15423", "name"=>"110 in the shade", "url"=>"https://www.thecocktaildb.com/images/media/drink/xxyywq1454511117.jpg"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zgSdc9xhVg6Azeb1v8YMWAvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zgSdc9xhVg6Azeb1v8YMWAvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "15423"], ["name", "110 in the shade"], ["url", "https://www.thecocktaildb.com/images/media/drink/xxyywq1454511117.jpg"], ["user_id", 1], ["created_at", "2018-05-05 18:00:34.499723"], ["updated_at", "2018-05-05 18:00:34.499723"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:00:38 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:01:18 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:06:21 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:08:45 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:08:49 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-05 14:09:04 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-05 14:09:12 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "twZSEj5ZmS7tefFpRrQg9syQ"], ["updated_at", "2018-05-05 18:09:12.786874"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:09:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "twZSEj5ZmS7tefFpRrQg9syQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 13ms (Views: 4.3ms | ActiveRecord: 6.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:09:21 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "twZSEj5ZmS7tefFpRrQg9syQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:10:09 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "twZSEj5ZmS7tefFpRrQg9syQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-05 14:10:12 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "twZSEj5ZmS7tefFpRrQg9syQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:10:14 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-05 14:10:25 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "RyKuzhRMjZJ2BSK2Skir2wXr"], ["updated_at", "2018-05-05 18:10:25.411961"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 74ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:10:26 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "RyKuzhRMjZJ2BSK2Skir2wXr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 1.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-05 14:10:36 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15395", "name"=>"1-900-FUK-MEUP", "url"=>"https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "RyKuzhRMjZJ2BSK2Skir2wXr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-05 14:10:55 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-05 14:10:59 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "ozzg5hq8hrYcivYvgJryT9Nd"], ["updated_at", "2018-05-05 18:10:59.244528"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:14:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ozzg5hq8hrYcivYvgJryT9Nd"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 1.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:16:23 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ozzg5hq8hrYcivYvgJryT9Nd"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (4.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 149ms (Views: 15.2ms | ActiveRecord: 159.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:16:27 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ozzg5hq8hrYcivYvgJryT9Nd"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:16:29 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ozzg5hq8hrYcivYvgJryT9Nd"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.8ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-05 14:16:35 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15346", "name"=>"155 Belmont", "url"=>"https://www.thecocktaildb.com/images/media/drink/yqvvqs1475667388.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ozzg5hq8hrYcivYvgJryT9Nd"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 2ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:16:40 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 14:16:49 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/drinks/drink.strDrinkThumb" for 127.0.0.1 at 2018-05-05 15:03:06 -0400
  
ActionController::RoutingError (No route matches [GET] "/drinks/drink.strDrinkThumb"):
  
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favorites" for 127.0.0.1 at 2018-05-05 16:54:47 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 1.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 17:15:59 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-05 17:16:08 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-05 17:16:19 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "crqaxfACW4vMdApWJxemjnNW"], ["updated_at", "2018-05-05 21:16:19.906478"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.1ms | ActiveRecord: 3.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 17:16:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "crqaxfACW4vMdApWJxemjnNW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (5.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 18ms (Views: 3.8ms | ActiveRecord: 5.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-05 17:16:25 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "crqaxfACW4vMdApWJxemjnNW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 11:07:30 -0400
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 19ms (ActiveRecord: 2.1ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 11:07:36 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (2.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "bZbopWUk1upJtkw7TxawzxjR"], ["updated_at", "2018-05-06 15:07:36.486013"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 93ms (Views: 0.2ms | ActiveRecord: 9.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:07:38 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "bZbopWUk1upJtkw7TxawzxjR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 5.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:07:45 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "bZbopWUk1upJtkw7TxawzxjR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 1.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 11:08:01 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11417", "name"=>"Gin Sour", "url"=>"https://www.thecocktaildb.com/images/media/drink/mt7l7m1504883523.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "bZbopWUk1upJtkw7TxawzxjR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 2ms (ActiveRecord: 0.3ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:08:05 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.3ms | ActiveRecord: 3.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:10:27 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.4ms | ActiveRecord: 1.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:16:03 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.4ms | ActiveRecord: 1.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 11:16:10 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 11:16:16 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["updated_at", "2018-05-06 15:16:16.673940"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:16:17 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:17:05 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:17:13 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:19:54 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 1.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:20:07 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:20:28 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:20:46 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:25:51 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:26:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:27:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:27:58 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:31:56 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 8ms (Views: 4.0ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:32:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:32:59 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (4.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 9ms (Views: 3.4ms | ActiveRecord: 4.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:33:18 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:33:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:34:04 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:34:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.8ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 11:46:45 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"13581", "name"=>"410 Gone", "url"=>"https://www.thecocktaildb.com/images/media/drink/xtuyqv1472669026.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "h5eFEYNANVs6MfatbexCfzvv"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 2ms (ActiveRecord: 1.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:46:48 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 11:46:58 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 11:47:03 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "sZsgTFWJupPqUUv4XNy9XdSX"], ["updated_at", "2018-05-06 15:47:04.018097"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:47:06 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "sZsgTFWJupPqUUv4XNy9XdSX"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 3.3ms | ActiveRecord: 2.1ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 11:47:18 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"13581", "name"=>"410 Gone", "url"=>"https://www.thecocktaildb.com/images/media/drink/xtuyqv1472669026.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "sZsgTFWJupPqUUv4XNy9XdSX"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.3ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 11:47:21 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 11:47:25 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Z2q7BGXgxmkbR4eG8obDebyD"], ["updated_at", "2018-05-06 15:47:25.416378"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:47:26 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Z2q7BGXgxmkbR4eG8obDebyD"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 11ms (Views: 3.2ms | ActiveRecord: 6.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:47:29 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Z2q7BGXgxmkbR4eG8obDebyD"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 1.0ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 11:47:36 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"13581", "name"=>"410 Gone", "url"=>"https://www.thecocktaildb.com/images/media/drink/xtuyqv1472669026.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Z2q7BGXgxmkbR4eG8obDebyD"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.3ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:47:38 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 11:47:49 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 11:47:54 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "zXCyVL1SRJXWZ9Sd1Tt8pZjL"], ["updated_at", "2018-05-06 15:47:54.095781"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:47:55 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zXCyVL1SRJXWZ9Sd1Tt8pZjL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:48:03 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zXCyVL1SRJXWZ9Sd1Tt8pZjL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:53:55 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zXCyVL1SRJXWZ9Sd1Tt8pZjL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 1.8ms | ActiveRecord: 2.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 11:54:10 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"13940", "name"=>"69 Special", "url"=>"https://www.thecocktaildb.com/images/media/drink/vqyxqx1472669095.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zXCyVL1SRJXWZ9Sd1Tt8pZjL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 2ms (ActiveRecord: 0.4ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:54:16 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 11:54:26 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 11:54:30 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "4xtzmvgc56s4JqAPtZsRBGLL"], ["updated_at", "2018-05-06 15:54:30.575692"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 83ms (Views: 0.2ms | ActiveRecord: 3.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:54:32 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4xtzmvgc56s4JqAPtZsRBGLL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 2.3ms | ActiveRecord: 2.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 11:54:49 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4xtzmvgc56s4JqAPtZsRBGLL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.7ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 11:54:54 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "cC9itNHcGv2EeecdbEipzxE1"], ["updated_at", "2018-05-06 15:54:54.269295"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 11:55:07 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17223", "name"=>"Abbey Martini", "url"=>"https://www.thecocktaildb.com/images/media/drink/2mcozt1504817403.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "cC9itNHcGv2EeecdbEipzxE1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.3ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:55:11 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 11:55:20 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 11:55:26 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "B74QPrYncR7wp4T8VFLd6kZ3"], ["updated_at", "2018-05-06 15:55:26.436116"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:55:28 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "B74QPrYncR7wp4T8VFLd6kZ3"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 1.0ms)


Started DELETE "/favorites/14" for 127.0.0.1 at 2018-05-06 11:55:55 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"14", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "B74QPrYncR7wp4T8VFLd6kZ3"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.9ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 14]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/14
Completed 302 Found in 19ms (ActiveRecord: 9.8ms)


Started DELETE "/favorites/14" for 127.0.0.1 at 2018-05-06 11:55:55 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"14", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "B74QPrYncR7wp4T8VFLd6kZ3"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=14):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:55:55 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "B74QPrYncR7wp4T8VFLd6kZ3"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 11:56:07 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "B74QPrYncR7wp4T8VFLd6kZ3"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 11:56:11 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "boGtVZLxRhpc7CiuvHKDzqbz"], ["updated_at", "2018-05-06 15:56:11.525931"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.1ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:56:13 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "boGtVZLxRhpc7CiuvHKDzqbz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 2.0ms)


Started DELETE "/favorites/13" for 127.0.0.1 at 2018-05-06 11:56:15 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"13", "favorite"=>{}}
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "boGtVZLxRhpc7CiuvHKDzqbz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 13]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/13
Completed 302 Found in 11ms (ActiveRecord: 5.7ms)


Started DELETE "/favorites/13" for 127.0.0.1 at 2018-05-06 11:56:15 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"13", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "boGtVZLxRhpc7CiuvHKDzqbz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 3ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=13):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:56:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "boGtVZLxRhpc7CiuvHKDzqbz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 11:56:21 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "boGtVZLxRhpc7CiuvHKDzqbz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 5ms (ActiveRecord: 2.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 11:56:26 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "NnaPTT3P1gD1NxGxUMcYGCvT"], ["updated_at", "2018-05-06 15:56:26.077648"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.1ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:56:29 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NnaPTT3P1gD1NxGxUMcYGCvT"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 1.7ms)


Started DELETE "/favorites/11" for 127.0.0.1 at 2018-05-06 11:56:33 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"11", "favorite"=>{}}
  [1m[36mUser Load (7.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NnaPTT3P1gD1NxGxUMcYGCvT"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.8ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 11]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/11
Completed 302 Found in 23ms (ActiveRecord: 18.2ms)


Started DELETE "/favorites/11" for 127.0.0.1 at 2018-05-06 11:56:33 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"11", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NnaPTT3P1gD1NxGxUMcYGCvT"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=11):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:56:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NnaPTT3P1gD1NxGxUMcYGCvT"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 11:57:04 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NnaPTT3P1gD1NxGxUMcYGCvT"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 11:57:08 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "4vqSse2xeLkNXcTgNuju9kHu"], ["updated_at", "2018-05-06 15:57:09.014662"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.1ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:57:13 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4vqSse2xeLkNXcTgNuju9kHu"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.5ms)


Started DELETE "/favorites/12" for 127.0.0.1 at 2018-05-06 11:57:14 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"12", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4vqSse2xeLkNXcTgNuju9kHu"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 12]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/12
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)


Started DELETE "/favorites/12" for 127.0.0.1 at 2018-05-06 11:57:14 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"12", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4vqSse2xeLkNXcTgNuju9kHu"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=12):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:57:14 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4vqSse2xeLkNXcTgNuju9kHu"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:57:49 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4vqSse2xeLkNXcTgNuju9kHu"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:58:23 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4vqSse2xeLkNXcTgNuju9kHu"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:59:01 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4vqSse2xeLkNXcTgNuju9kHu"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.5ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 11:59:22 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15288", "name"=>"252", "url"=>"https://www.thecocktaildb.com/images/media/drink/rtpxqw1468877562.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4vqSse2xeLkNXcTgNuju9kHu"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:59:24 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 1.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 11:59:34 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 11:59:38 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "x3osaMG2S53ozEPFTaHPPG9a"], ["updated_at", "2018-05-06 15:59:38.716931"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:59:40 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "x3osaMG2S53ozEPFTaHPPG9a"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 1.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:59:46 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "x3osaMG2S53ozEPFTaHPPG9a"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 1.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 11:59:55 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17228", "name"=>"Addison", "url"=>"https://www.thecocktaildb.com/images/media/drink/yzva7x1504820300.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "x3osaMG2S53ozEPFTaHPPG9a"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 11:59:57 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:00:08 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 3.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:00:15 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 12:00:21 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "CDbzDHBCSUZPPdfoupUABdpW"], ["updated_at", "2018-05-06 16:00:21.172467"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:00:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CDbzDHBCSUZPPdfoupUABdpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 1.8ms)


Started DELETE "/favorites/10" for 127.0.0.1 at 2018-05-06 12:00:26 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"10", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CDbzDHBCSUZPPdfoupUABdpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 10]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/10
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)


Started DELETE "/favorites/10" for 127.0.0.1 at 2018-05-06 12:00:26 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"10", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CDbzDHBCSUZPPdfoupUABdpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=10):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:00:26 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CDbzDHBCSUZPPdfoupUABdpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.5ms)


Started DELETE "/favorites/9" for 127.0.0.1 at 2018-05-06 12:00:27 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"9", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CDbzDHBCSUZPPdfoupUABdpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 9]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/9
Completed 302 Found in 5ms (ActiveRecord: 1.8ms)


Started DELETE "/favorites/9" for 127.0.0.1 at 2018-05-06 12:00:27 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"9", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CDbzDHBCSUZPPdfoupUABdpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 3ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=9):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:00:27 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CDbzDHBCSUZPPdfoupUABdpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.7ms)


Started DELETE "/favorites/8" for 127.0.0.1 at 2018-05-06 12:00:28 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"8", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CDbzDHBCSUZPPdfoupUABdpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 8]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/8
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)


Started DELETE "/favorites/8" for 127.0.0.1 at 2018-05-06 12:00:28 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"8", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CDbzDHBCSUZPPdfoupUABdpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=8):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:00:28 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CDbzDHBCSUZPPdfoupUABdpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:01:10 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"16943", "name"=>"A Gilligan's Island", "url"=>"https://www.thecocktaildb.com/images/media/drink/wysqut1461867176.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CDbzDHBCSUZPPdfoupUABdpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:01:13 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:01:21 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 12:01:28 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "G9LD8hPSGdTs1jqq95ijQNkr"], ["updated_at", "2018-05-06 16:01:28.598434"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.1ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:01:29 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "G9LD8hPSGdTs1jqq95ijQNkr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 1.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:01:31 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "G9LD8hPSGdTs1jqq95ijQNkr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 1.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:01:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "G9LD8hPSGdTs1jqq95ijQNkr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 1.5ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:03:42 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15423", "name"=>"110 in the shade", "url"=>"https://www.thecocktaildb.com/images/media/drink/xxyywq1454511117.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "G9LD8hPSGdTs1jqq95ijQNkr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:05:54 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 0.2ms | ActiveRecord: 6.9ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:06:02 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15395", "name"=>"1-900-FUK-MEUP", "url"=>"https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:06:05 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 1.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:06:12 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 12:06:18 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "6136y8HnpXz8W7oFiFXj7f7g"], ["updated_at", "2018-05-06 16:06:18.288513"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 92ms (Views: 0.2ms | ActiveRecord: 4.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:06:21 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "6136y8HnpXz8W7oFiFXj7f7g"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:08:16 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "6136y8HnpXz8W7oFiFXj7f7g"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 15ms (ActiveRecord: 5.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 12:08:21 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "E1esUt3qwwwjmyhyHjGfCy4K"], ["updated_at", "2018-05-06 16:08:21.228652"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:08:23 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "E1esUt3qwwwjmyhyHjGfCy4K"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 1.8ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:08:28 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17223", "name"=>"Abbey Martini", "url"=>"https://www.thecocktaildb.com/images/media/drink/2mcozt1504817403.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "E1esUt3qwwwjmyhyHjGfCy4K"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:08:31 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 12:08:36 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "9orwjjn1ykCS1qGsmT4hnKsY"], ["updated_at", "2018-05-06 16:08:36.757123"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:08:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9orwjjn1ykCS1qGsmT4hnKsY"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:10:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9orwjjn1ykCS1qGsmT4hnKsY"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (3.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 24ms (Views: 1.5ms | ActiveRecord: 11.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:10:37 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9orwjjn1ykCS1qGsmT4hnKsY"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 12:10:41 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "hnDUspN8VjJtZZEu9ocwVESS"], ["updated_at", "2018-05-06 16:10:41.339479"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.3ms | ActiveRecord: 2.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:10:46 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15395", "name"=>"1-900-FUK-MEUP", "url"=>"https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "hnDUspN8VjJtZZEu9ocwVESS"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:10:48 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 2.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:10:55 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 12:10:59 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "mQZSSndhG64UKmtJMQTSHGTf"], ["updated_at", "2018-05-06 16:10:59.084454"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 75ms (Views: 0.3ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:10:59 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "mQZSSndhG64UKmtJMQTSHGTf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 3.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:12:35 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "mQZSSndhG64UKmtJMQTSHGTf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 12:12:41 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "GYgNXNBcQveMvR7XiGXHfcSo"], ["updated_at", "2018-05-06 16:12:41.125940"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.3ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:12:51 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17005", "name"=>"A True Amaretto Sour", "url"=>"https://www.thecocktaildb.com/images/media/drink/rptuxy1472669372.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "GYgNXNBcQveMvR7XiGXHfcSo"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:12:56 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:12:58 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:13:04 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 12:13:08 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "wPqLjoP89oDX3AgfeeVReUgC"], ["updated_at", "2018-05-06 16:13:08.989689"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:13:10 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "wPqLjoP89oDX3AgfeeVReUgC"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:15:20 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "wPqLjoP89oDX3AgfeeVReUgC"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 20ms (ActiveRecord: 6.4ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 12:15:25 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "PxH9MdpS8G78hRcQX6Yj6AY8"], ["updated_at", "2018-05-06 16:15:25.317777"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 84ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:15:29 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"13899", "name"=>"3 Wise Men", "url"=>"https://www.thecocktaildb.com/images/media/drink/wxqpyw1468877677.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "PxH9MdpS8G78hRcQX6Yj6AY8"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 2ms (ActiveRecord: 2.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:15:33 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:15:34 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 12:15:38 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "wHzYYMvYgdvuF7xMncsU83zn"], ["updated_at", "2018-05-06 16:15:38.271528"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.3ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:15:38 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "wHzYYMvYgdvuF7xMncsU83zn"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:16:42 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "wHzYYMvYgdvuF7xMncsU83zn"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 18ms (ActiveRecord: 6.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 12:16:53 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "xc8VTwZar3X1bFQ6sutE4GB4"], ["updated_at", "2018-05-06 16:16:53.829366"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.3ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:16:59 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"13899", "name"=>"3 Wise Men", "url"=>"https://www.thecocktaildb.com/images/media/drink/wxqpyw1468877677.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xc8VTwZar3X1bFQ6sutE4GB4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xc8VTwZar3X1bFQ6sutE4GB4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "13899"], ["name", "3 Wise Men"], ["url", "https://www.thecocktaildb.com/images/media/drink/wxqpyw1468877677.jpg"], ["user_id", 1], ["created_at", "2018-05-06 16:16:59.287358"], ["updated_at", "2018-05-06 16:16:59.287358"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 24ms (Views: 0.8ms | ActiveRecord: 10.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:17:02 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:17:08 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 12:17:12 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Y3joRiYr2VJaZnnE4gGrwAwb"], ["updated_at", "2018-05-06 16:17:12.691126"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:17:13 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Y3joRiYr2VJaZnnE4gGrwAwb"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 1.7ms | ActiveRecord: 1.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:18:56 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Y3joRiYr2VJaZnnE4gGrwAwb"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 17ms (ActiveRecord: 4.8ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 12:19:01 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "sgzHg9DFyVJcVr5zzFyfGnix"], ["updated_at", "2018-05-06 16:19:01.259568"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:19:05 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14372", "name"=>"Absolut limousine", "url"=>"https://www.thecocktaildb.com/images/media/drink/ssqpyw1472719844.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "sgzHg9DFyVJcVr5zzFyfGnix"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "sgzHg9DFyVJcVr5zzFyfGnix"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14372"], ["name", "Absolut limousine"], ["url", "https://www.thecocktaildb.com/images/media/drink/ssqpyw1472719844.jpg"], ["user_id", 1], ["created_at", "2018-05-06 16:19:05.368481"], ["updated_at", "2018-05-06 16:19:05.368481"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 20ms (Views: 0.9ms | ActiveRecord: 9.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:19:07 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:19:55 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14564", "name"=>"A Splash of Nash", "url"=>"https://www.thecocktaildb.com/images/media/drink/rsvtrr1472668201.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:19:59 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 1.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:20:04 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 12:20:08 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "fjnnr576K3sqGjB5XRD5WD9w"], ["updated_at", "2018-05-06 16:20:08.604247"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.3ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:20:10 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "fjnnr576K3sqGjB5XRD5WD9w"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 129ms (ActiveRecord: 0.4ms)


  
NameError (undefined local variable or method `favorite' for #<FavoritesController:0x00007f8d747044b0>
Did you mean?  favorites):
  
app/controllers/favorites_controller.rb:7:in `index'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:20:47 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "fjnnr576K3sqGjB5XRD5WD9w"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 23ms (Views: 7.4ms | ActiveRecord: 6.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:21:05 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11008", "name"=>"Affair", "url"=>"https://www.thecocktaildb.com/images/media/drink/wxrsxx1472720734.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "fjnnr576K3sqGjB5XRD5WD9w"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "fjnnr576K3sqGjB5XRD5WD9w"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "11008"], ["name", "Affair"], ["url", "https://www.thecocktaildb.com/images/media/drink/wxrsxx1472720734.jpg"], ["user_id", 1], ["created_at", "2018-05-06 16:21:05.990006"], ["updated_at", "2018-05-06 16:21:05.990006"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:21:08 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:21:17 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 12:21:25 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["updated_at", "2018-05-06 16:21:25.261090"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 84ms (Views: 0.2ms | ActiveRecord: 7.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:21:26 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 1.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:35:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (14.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 21ms (Views: 1.9ms | ActiveRecord: 17.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:36:26 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:37:12 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 8ms (Views: 2.8ms | ActiveRecord: 2.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:38:44 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:39:24 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:40:45 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 3.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:40:58 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:41:43 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:44:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:48:21 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:48:26 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:48:28 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15288", "name"=>"252", "url"=>"https://www.thecocktaildb.com/images/media/drink/rtpxqw1468877562.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4ohUmZT3GD5aRMRbVWmxdKaQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "15288"], ["name", "252"], ["url", "https://www.thecocktaildb.com/images/media/drink/rtpxqw1468877562.jpg"], ["user_id", 1], ["created_at", "2018-05-06 16:48:28.262150"], ["updated_at", "2018-05-06 16:48:28.262150"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:48:29 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:48:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 12:48:37 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 12:48:41 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "2eUbR3RSa8SXstcfyocjZGHZ"], ["updated_at", "2018-05-06 16:48:41.904665"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:48:43 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "2eUbR3RSa8SXstcfyocjZGHZ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:50:08 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "2eUbR3RSa8SXstcfyocjZGHZ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:50:14 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "2eUbR3RSa8SXstcfyocjZGHZ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 12:50:15 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"13940", "name"=>"69 Special", "url"=>"https://www.thecocktaildb.com/images/media/drink/vqyxqx1472669095.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "2eUbR3RSa8SXstcfyocjZGHZ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "2eUbR3RSa8SXstcfyocjZGHZ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "13940"], ["name", "69 Special"], ["url", "https://www.thecocktaildb.com/images/media/drink/vqyxqx1472669095.jpg"], ["user_id", 1], ["created_at", "2018-05-06 16:50:15.521639"], ["updated_at", "2018-05-06 16:50:15.521639"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 1.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:50:16 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:50:17 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:51:19 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:51:38 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:51:42 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.5ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 12:51:49 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:20:46 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.9ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:20:52 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:21:03 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:21:07 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:21:36 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.9ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/users" for 127.0.0.1 at 2018-05-06 13:33:59 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"deer", "password"=>"[FILTERED]", "email"=>"deer@deer.com", "name"=>"deer"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "deer"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "deer"], ["password_digest", "$2a$10$VT3Y97IPG2Yey8jo7adHaeRFnsXHn.vIaQA1q8ANEpS1OoMfdmpbq"], ["email", "deer@deer.com"], ["name", "deer"], ["auth_token", "KsWoHk7c5F99JAc4zufGEqkn"], ["created_at", "2018-05-06 17:33:59.482287"], ["updated_at", "2018-05-06 17:33:59.482287"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:34:11 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "KsWoHk7c5F99JAc4zufGEqkn"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 2.0ms | ActiveRecord: 3.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:34:24 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "KsWoHk7c5F99JAc4zufGEqkn"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 1.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 13:34:28 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15395", "name"=>"1-900-FUK-MEUP", "url"=>"https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "KsWoHk7c5F99JAc4zufGEqkn"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "KsWoHk7c5F99JAc4zufGEqkn"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "15395"], ["name", "1-900-FUK-MEUP"], ["url", "https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"], ["user_id", 10], ["created_at", "2018-05-06 17:34:28.772221"], ["updated_at", "2018-05-06 17:34:28.772221"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 2.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:34:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 2.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:35:01 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 13:35:10 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"deer", "password"=>"[FILTERED]", "session"=>{"username"=>"deer", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "deer"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "deer"], ["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "mQcAsdKQ76XCT4N5Qh2FCzPq"], ["updated_at", "2018-05-06 17:35:10.177145"], ["id", 10]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:38:25 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "mQcAsdKQ76XCT4N5Qh2FCzPq"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 10]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 13:38:42 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"snake", "password"=>"[FILTERED]", "email"=>"snake@snake.com", "name"=>"snake"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "snake"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "snake"], ["password_digest", "$2a$10$NfUd7WkBSEJUdB.0xfswXug.0u7158Eqq7Py4nPgulhKKO8tiPu.u"], ["email", "snake@snake.com"], ["name", "snake"], ["auth_token", "6uptb8GWwWWefvABizhpz4v7"], ["created_at", "2018-05-06 17:38:42.624476"], ["updated_at", "2018-05-06 17:38:42.624476"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 1.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:38:59 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "6uptb8GWwWWefvABizhpz4v7"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 11]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.8ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 13:39:38 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"plant", "password"=>"[FILTERED]", "email"=>"plant@plant.com", "name"=>"plant"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "plant"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "plant"], ["password_digest", "$2a$10$sbkIOc7AuE69HBtI5yHuyOV3ERyAvmACut9EQW7IZd7X2vPiTLwdO"], ["email", "plant@plant.com"], ["name", "plant"], ["auth_token", "PLCkF2b1VA9r1GLDiG9sZBU8"], ["created_at", "2018-05-06 17:39:38.607477"], ["updated_at", "2018-05-06 17:39:38.607477"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 1.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:39:43 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "PLCkF2b1VA9r1GLDiG9sZBU8"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 1.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:39:55 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "PLCkF2b1VA9r1GLDiG9sZBU8"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 12]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 13:40:01 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"plant", "password"=>"[FILTERED]", "session"=>{"username"=>"plant", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "plant"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "plant"], ["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "q3SU8QJf9QyvkbxdMa5LMdMr"], ["updated_at", "2018-05-06 17:40:01.430982"], ["id", 12]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:40:02 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "q3SU8QJf9QyvkbxdMa5LMdMr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:41:51 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "q3SU8QJf9QyvkbxdMa5LMdMr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:41:52 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "q3SU8QJf9QyvkbxdMa5LMdMr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 12]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 13:41:59 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"plant", "password"=>"[FILTERED]", "session"=>{"username"=>"plant", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "plant"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "plant"], ["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "iHozSa37kutSBpPQ7D9S1wNF"], ["updated_at", "2018-05-06 17:41:59.128869"], ["id", 12]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:42:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "iHozSa37kutSBpPQ7D9S1wNF"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 1.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:42:03 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "iHozSa37kutSBpPQ7D9S1wNF"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 12]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:42:04 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:42:04 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:42:04 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:42:04 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:42:05 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:42:05 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:42:05 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 13:42:12 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"plant", "password"=>"[FILTERED]", "session"=>{"username"=>"plant", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "plant"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "plant"], ["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "XpAv8A6GRqDCPrKyT5ztuZ2c"], ["updated_at", "2018-05-06 17:42:12.731090"], ["id", 12]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:42:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "XpAv8A6GRqDCPrKyT5ztuZ2c"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:42:42 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "XpAv8A6GRqDCPrKyT5ztuZ2c"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 12]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:42:48 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 13:43:29 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"plant", "password"=>"[FILTERED]", "session"=>{"username"=>"plant", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "plant"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "plant"], ["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "jRkqgvuuAsB3yqW1WHBiytsg"], ["updated_at", "2018-05-06 17:43:29.734114"], ["id", 12]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:43:40 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jRkqgvuuAsB3yqW1WHBiytsg"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.8ms)


Started DELETE "/favorites/19" for 127.0.0.1 at 2018-05-06 13:44:17 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"19", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jRkqgvuuAsB3yqW1WHBiytsg"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 19]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/19
Completed 302 Found in 11ms (ActiveRecord: 7.2ms)


Started DELETE "/favorites/19" for 127.0.0.1 at 2018-05-06 13:44:17 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"19", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jRkqgvuuAsB3yqW1WHBiytsg"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=19):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:44:17 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jRkqgvuuAsB3yqW1WHBiytsg"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.5ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 13:57:51 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14564", "name"=>"A Splash of Nash", "url"=>"https://www.thecocktaildb.com/images/media/drink/rsvtrr1472668201.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jRkqgvuuAsB3yqW1WHBiytsg"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jRkqgvuuAsB3yqW1WHBiytsg"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14564"], ["name", "A Splash of Nash"], ["url", "https://www.thecocktaildb.com/images/media/drink/rsvtrr1472668201.jpg"], ["user_id", 12], ["created_at", "2018-05-06 17:57:51.530237"], ["updated_at", "2018-05-06 17:57:51.530237"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 3.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:57:54 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:58:46 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 13:58:53 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 13:58:56 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "bdQ1Y1Sya61uaajfRse2fHLX"], ["updated_at", "2018-05-06 17:58:57.072075"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.3ms | ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 13:58:57 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "bdQ1Y1Sya61uaajfRse2fHLX"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:00:52 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 14:01:10 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "jZ8ajme5JHvx6KKBqS6Ydgzw"], ["updated_at", "2018-05-06 18:01:10.128223"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:01:11 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jZ8ajme5JHvx6KKBqS6Ydgzw"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.8ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:01:18 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14372", "name"=>"Absolut limousine", "url"=>"https://www.thecocktaildb.com/images/media/drink/ssqpyw1472719844.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jZ8ajme5JHvx6KKBqS6Ydgzw"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jZ8ajme5JHvx6KKBqS6Ydgzw"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14372"], ["name", "Absolut limousine"], ["url", "https://www.thecocktaildb.com/images/media/drink/ssqpyw1472719844.jpg"], ["user_id", 1], ["created_at", "2018-05-06 18:01:18.456927"], ["updated_at", "2018-05-06 18:01:18.456927"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:01:20 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:11:33 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 1.0ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:11:38 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"deer", "password"=>"[FILTERED]", "session"=>{"username"=>"deer", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "deer"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "deer"], ["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "swSWAjCXMgigHhTVds1TKnTm"], ["updated_at", "2018-05-06 18:11:38.672508"], ["id", 10]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 75ms (Views: 0.3ms | ActiveRecord: 2.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:11:39 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "swSWAjCXMgigHhTVds1TKnTm"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 1.1ms)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (6.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (199.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_development"[0m
  â†³ bin/rails:4
  [1m[35m (218.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_test"[0m
  â†³ bin/rails:4
  [1m[35m (509.1ms)[0m  [1m[35mCREATE DATABASE "thirsty_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (436.5ms)[0m  [1m[35mCREATE DATABASE "thirsty_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:4
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateUsers (20180502143541)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (27.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "email" character varying, "name" character varying, "auth_token" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_username" ON "users"  ("username")[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502143541"]]
  â†³ bin/rails:4
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
Migrating to CreateDrinks (20180502164512)
  [1m[35m (6.0ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "drinks" ("id" bigserial primary key, "name" character varying, "description" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_drinks_on_user_id" ON "drinks"  ("user_id")[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502164512"]]
  â†³ bin/rails:4
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
Migrating to CreateFavorites (20180502222005)
  [1m[35m (5.9ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "drink_id" character varying, "name" character varying, "url" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502222005_create_favorites.rb:3
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_favorites_on_user_id" ON "favorites"  ("user_id")[0m
  â†³ db/migrate/20180502222005_create_favorites.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502222005"]]
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-05-06 18:24:48.055191"], ["updated_at", "2018-05-06 18:24:48.055191"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:25:11 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "swSWAjCXMgigHhTVds1TKnTm"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 15ms (Views: 1.9ms | ActiveRecord: 4.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:25:20 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "swSWAjCXMgigHhTVds1TKnTm"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:26:59 -0400
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:27:09 -0400
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:27:09 -0400
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:27:09 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "swSWAjCXMgigHhTVds1TKnTm"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 10ms (ActiveRecord: 3.6ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Processing by SessionsController#destroy as */*
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "swSWAjCXMgigHhTVds1TKnTm"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.4ms)


  
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "swSWAjCXMgigHhTVds1TKnTm"], ["LIMIT", 1]]
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "swSWAjCXMgigHhTVds1TKnTm"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.5ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:27:09 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:27:17 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:27:21 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:27:25 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 4.9ms)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (193.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_development"[0m
  â†³ bin/rails:4
  [1m[35m (209.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_test"[0m
  â†³ bin/rails:4
  [1m[35m (433.7ms)[0m  [1m[35mCREATE DATABASE "thirsty_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (448.9ms)[0m  [1m[35mCREATE DATABASE "thirsty_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:4
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateUsers (20180502143541)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "email" character varying, "name" character varying, "auth_token" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_username" ON "users"  ("username")[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502143541"]]
  â†³ bin/rails:4
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
Migrating to CreateDrinks (20180502164512)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "drinks" ("id" bigserial primary key, "name" character varying, "description" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_drinks_on_user_id" ON "drinks"  ("user_id")[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502164512"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
Migrating to CreateFavorites (20180502222005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "drink_id" character varying, "name" character varying, "url" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502222005_create_favorites.rb:3
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_favorites_on_user_id" ON "favorites"  ("user_id")[0m
  â†³ db/migrate/20180502222005_create_favorites.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502222005"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-05-06 18:28:13.671567"], ["updated_at", "2018-05-06 18:28:13.671567"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:28:55 -0400
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 16ms (Views: 1.3ms | ActiveRecord: 4.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:29:00 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.0ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:29:06 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:29:07 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:29:11 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:29:16 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:29:17 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (20.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 22ms (Views: 0.2ms | ActiveRecord: 20.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:29:26 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:29:28 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:29:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:29:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 14:29:45 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:29:46 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 14:30:17 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"cat", "password"=>"[FILTERED]", "email"=>"cat@cat.com", "name"=>"cat"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "cat"], ["password_digest", "$2a$10$8zHbhfImXtTnCWR5v5TXHuSc/Cj/222d5oLIVzK1JUNX7pg6rORzi"], ["email", "cat@cat.com"], ["name", "cat"], ["auth_token", "xPTjaNA2pEHSzkznzVmT3t1E"], ["created_at", "2018-05-06 18:30:17.530723"], ["updated_at", "2018-05-06 18:30:17.530723"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 87ms (Views: 0.2ms | ActiveRecord: 4.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:30:34 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14564", "name"=>"A Splash of Nash", "url"=>"https://www.thecocktaildb.com/images/media/drink/rsvtrr1472668201.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xPTjaNA2pEHSzkznzVmT3t1E"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xPTjaNA2pEHSzkznzVmT3t1E"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14564"], ["name", "A Splash of Nash"], ["url", "https://www.thecocktaildb.com/images/media/drink/rsvtrr1472668201.jpg"], ["user_id", 1], ["created_at", "2018-05-06 18:30:34.183503"], ["updated_at", "2018-05-06 18:30:34.183503"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 16ms (Views: 0.5ms | ActiveRecord: 3.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:30:36 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:30:38 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:30:42 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:30:48 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "9x42QkMHYC2pYiToFqWUtzgZ"], ["updated_at", "2018-05-06 18:30:48.764212"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:30:49 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9x42QkMHYC2pYiToFqWUtzgZ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:31:01 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9x42QkMHYC2pYiToFqWUtzgZ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 14:31:14 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"dog", "password"=>"[FILTERED]", "email"=>"dog@dog.com", "name"=>"dog"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "dog"], ["password_digest", "$2a$10$eTL4um31LwLqs7u.1byN8ONVxahoJsg2f3OYXZdpehLRtbvzh8w7O"], ["email", "dog@dog.com"], ["name", "dog"], ["auth_token", "yhMkhJqsjV5f4DdAzR7zcqyj"], ["created_at", "2018-05-06 18:31:14.959825"], ["updated_at", "2018-05-06 18:31:14.959825"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 1.8ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:31:25 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"13683", "name"=>"Apple Slammer", "url"=>"https://www.thecocktaildb.com/images/media/drink/09yd5f1493069852.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "yhMkhJqsjV5f4DdAzR7zcqyj"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "yhMkhJqsjV5f4DdAzR7zcqyj"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "13683"], ["name", "Apple Slammer"], ["url", "https://www.thecocktaildb.com/images/media/drink/09yd5f1493069852.jpg"], ["user_id", 2], ["created_at", "2018-05-06 18:31:25.937115"], ["updated_at", "2018-05-06 18:31:25.937115"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 1.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:31:27 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:31:32 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:31:33 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:31:40 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "cHEZBej46Wpu6iVKWALxdCZM"], ["updated_at", "2018-05-06 18:31:40.731272"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:31:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "cHEZBej46Wpu6iVKWALxdCZM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:35:44 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (8.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "cHEZBej46Wpu6iVKWALxdCZM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (7.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 26ms (Views: 6.3ms | ActiveRecord: 16.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:35:48 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "cHEZBej46Wpu6iVKWALxdCZM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.9ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:39:42 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14372", "name"=>"Absolut limousine", "url"=>"https://www.thecocktaildb.com/images/media/drink/ssqpyw1472719844.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "cHEZBej46Wpu6iVKWALxdCZM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "cHEZBej46Wpu6iVKWALxdCZM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14372"], ["name", "Absolut limousine"], ["url", "https://www.thecocktaildb.com/images/media/drink/ssqpyw1472719844.jpg"], ["user_id", 2], ["created_at", "2018-05-06 18:39:42.557043"], ["updated_at", "2018-05-06 18:39:42.557043"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 1.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:40:25 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:40:34 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:40:44 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog ", "password"=>"[FILTERED]", "session"=>{"username"=>"dog ", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog "], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:40:45 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:40:56 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:41:01 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:41:05 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "FrCZ7vMX21gczuWCGo7wojNf"], ["updated_at", "2018-05-06 18:41:05.723994"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 74ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:41:06 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FrCZ7vMX21gczuWCGo7wojNf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:41:12 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "FrCZ7vMX21gczuWCGo7wojNf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 14:41:18 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "KT7qx7qzFxDD6awTg6AdyVuy"], ["updated_at", "2018-05-06 18:41:18.632539"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:41:23 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11006", "name"=>"Adam", "url"=>"https://www.thecocktaildb.com/images/media/drink/rwuxsv1472812169.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "KT7qx7qzFxDD6awTg6AdyVuy"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "KT7qx7qzFxDD6awTg6AdyVuy"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "11006"], ["name", "Adam"], ["url", "https://www.thecocktaildb.com/images/media/drink/rwuxsv1472812169.jpg"], ["user_id", 2], ["created_at", "2018-05-06 18:41:23.463782"], ["updated_at", "2018-05-06 18:41:23.463782"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 16ms (Views: 0.6ms | ActiveRecord: 8.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:41:28 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:41:32 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["updated_at", "2018-05-06 18:41:33.048601"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:41:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.7ms)


Started DELETE "/favorites/4" for 127.0.0.1 at 2018-05-06 14:43:28 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"4", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/4
Completed 302 Found in 6ms (ActiveRecord: 2.1ms)


Started DELETE "/favorites/4" for 127.0.0.1 at 2018-05-06 14:43:28 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"4", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=4):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:43:28 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)


Started DELETE "/favorites/3" for 127.0.0.1 at 2018-05-06 14:43:30 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"3", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/3
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)


Started DELETE "/favorites/3" for 127.0.0.1 at 2018-05-06 14:43:30 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"3", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=3):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:43:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.4ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-06 14:43:31 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/2
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)


Started DELETE "/favorites/2" for 127.0.0.1 at 2018-05-06 14:43:31 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"2", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 3ms (ActiveRecord: 0.9ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=2):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:43:31 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.4ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-06 14:43:32 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/1
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)


Started DELETE "/favorites/1" for 127.0.0.1 at 2018-05-06 14:43:32 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"1", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 3ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=1):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:43:32 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:43:34 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "xGyX46hFzvXU2APnn8CvETtM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 5ms (ActiveRecord: 2.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 14:43:38 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "MJjcCSAj8A3Yyycjtg183cuR"], ["updated_at", "2018-05-06 18:43:39.028213"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:43:44 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14598", "name"=>"50/50", "url"=>"https://www.thecocktaildb.com/images/media/drink/wwpyvr1461919316.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "MJjcCSAj8A3Yyycjtg183cuR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "MJjcCSAj8A3Yyycjtg183cuR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14598"], ["name", "50/50"], ["url", "https://www.thecocktaildb.com/images/media/drink/wwpyvr1461919316.jpg"], ["user_id", 1], ["created_at", "2018-05-06 18:43:44.115066"], ["updated_at", "2018-05-06 18:43:44.115066"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 1.8ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:43:49 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17005", "name"=>"A True Amaretto Sour", "url"=>"https://www.thecocktaildb.com/images/media/drink/rptuxy1472669372.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:43:53 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:43:59 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "VKFRRNUybUjC5id8qWij47EW"], ["updated_at", "2018-05-06 18:43:59.281250"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:44:04 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17267", "name"=>"Bahama Mama", "url"=>"https://www.thecocktaildb.com/images/media/drink/tyb4a41515793339.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "VKFRRNUybUjC5id8qWij47EW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "VKFRRNUybUjC5id8qWij47EW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "17267"], ["name", "Bahama Mama"], ["url", "https://www.thecocktaildb.com/images/media/drink/tyb4a41515793339.jpg"], ["user_id", 2], ["created_at", "2018-05-06 18:44:04.737657"], ["updated_at", "2018-05-06 18:44:04.737657"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 1.9ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:44:10 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15849", "name"=>"Apricot punch", "url"=>"https://www.thecocktaildb.com/images/media/drink/tuxxtp1472668667.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:44:13 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:44:17 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "5feZ139qzcXPmXX1FfadpWMf"], ["updated_at", "2018-05-06 18:44:17.395854"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:44:18 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "5feZ139qzcXPmXX1FfadpWMf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:44:27 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "5feZ139qzcXPmXX1FfadpWMf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 14:44:32 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "aGFJ2VY3r7mHEMNmvZgogR7b"], ["updated_at", "2018-05-06 18:44:32.760665"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:44:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "aGFJ2VY3r7mHEMNmvZgogR7b"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:45:40 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "aGFJ2VY3r7mHEMNmvZgogR7b"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 14:45:44 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "cxssLTY984zwAtcm8irKENGu"], ["updated_at", "2018-05-06 18:45:44.935129"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:45:45 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "cxssLTY984zwAtcm8irKENGu"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:45:47 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "cxssLTY984zwAtcm8irKENGu"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 2ms (ActiveRecord: 0.8ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 14:45:51 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "NW1NS4kdP2PNVS5UwavPUEYe"], ["updated_at", "2018-05-06 18:45:51.583104"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:45:52 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NW1NS4kdP2PNVS5UwavPUEYe"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.7ms)


Started DELETE "/favorites/5" for 127.0.0.1 at 2018-05-06 14:45:55 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"5", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NW1NS4kdP2PNVS5UwavPUEYe"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 5]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/5
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)


Started DELETE "/favorites/5" for 127.0.0.1 at 2018-05-06 14:45:55 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"5", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NW1NS4kdP2PNVS5UwavPUEYe"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=5):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:45:55 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NW1NS4kdP2PNVS5UwavPUEYe"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.4ms)


Started DELETE "/favorites/6" for 127.0.0.1 at 2018-05-06 14:45:56 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"6", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NW1NS4kdP2PNVS5UwavPUEYe"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 6]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/6
Completed 302 Found in 5ms (ActiveRecord: 2.3ms)


Started DELETE "/favorites/6" for 127.0.0.1 at 2018-05-06 14:45:56 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"6", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NW1NS4kdP2PNVS5UwavPUEYe"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=6):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:45:56 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NW1NS4kdP2PNVS5UwavPUEYe"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:45:56 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NW1NS4kdP2PNVS5UwavPUEYe"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 14:46:00 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "9VGiSj9aqea9X9LeZJBNP77A"], ["updated_at", "2018-05-06 18:46:00.461690"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:46:02 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9VGiSj9aqea9X9LeZJBNP77A"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 2.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:46:03 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9VGiSj9aqea9X9LeZJBNP77A"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 14:46:08 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "YRF2B9rrEBjBsRD3XUEazZJX"], ["updated_at", "2018-05-06 18:46:08.786244"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:46:09 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "YRF2B9rrEBjBsRD3XUEazZJX"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.7ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:46:22 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17187", "name"=>"Derby", "url"=>"https://www.thecocktaildb.com/images/media/drink/i502ra1504349156.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "YRF2B9rrEBjBsRD3XUEazZJX"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "YRF2B9rrEBjBsRD3XUEazZJX"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "17187"], ["name", "Derby"], ["url", "https://www.thecocktaildb.com/images/media/drink/i502ra1504349156.jpg"], ["user_id", 2], ["created_at", "2018-05-06 18:46:22.471372"], ["updated_at", "2018-05-06 18:46:22.471372"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 2.0ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:46:31 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"13128", "name"=>"Diesel", "url"=>"https://www.thecocktaildb.com/images/media/drink/sxrrqq1454512852.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:46:34 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:46:38 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Fx8JYVx51Uw81ntHHCWxPDEF"], ["updated_at", "2018-05-06 18:46:38.194505"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:46:46 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17185", "name"=>"Casino", "url"=>"https://www.thecocktaildb.com/images/media/drink/1mvjxg1504348579.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Fx8JYVx51Uw81ntHHCWxPDEF"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Fx8JYVx51Uw81ntHHCWxPDEF"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "17185"], ["name", "Casino"], ["url", "https://www.thecocktaildb.com/images/media/drink/1mvjxg1504348579.jpg"], ["user_id", 1], ["created_at", "2018-05-06 18:46:46.444883"], ["updated_at", "2018-05-06 18:46:46.444883"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 6.9ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:47:27 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14610", "name"=>"ACID", "url"=>"https://www.thecocktaildb.com/images/media/drink/xuxpxt1479209317.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:47:29 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:47:36 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "TkHQfPMCwE8syF7SsXveQqor"], ["updated_at", "2018-05-06 18:47:36.381657"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:47:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TkHQfPMCwE8syF7SsXveQqor"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 2.0ms)


Started DELETE "/favorites/7" for 127.0.0.1 at 2018-05-06 14:47:56 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"7", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TkHQfPMCwE8syF7SsXveQqor"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 7]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/7
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)


Started DELETE "/favorites/7" for 127.0.0.1 at 2018-05-06 14:47:56 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"7", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TkHQfPMCwE8syF7SsXveQqor"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=7):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:47:56 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TkHQfPMCwE8syF7SsXveQqor"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.4ms)


Started DELETE "/favorites/8" for 127.0.0.1 at 2018-05-06 14:47:56 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"8", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TkHQfPMCwE8syF7SsXveQqor"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 8]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/8
Completed 302 Found in 5ms (ActiveRecord: 1.8ms)


Started DELETE "/favorites/8" for 127.0.0.1 at 2018-05-06 14:47:56 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"8", "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TkHQfPMCwE8syF7SsXveQqor"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=8):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:47:57 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TkHQfPMCwE8syF7SsXveQqor"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:47:58 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TkHQfPMCwE8syF7SsXveQqor"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 14:48:03 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "kpcUeiSnQPjQ7SxFhdLQDsbg"], ["updated_at", "2018-05-06 18:48:03.717501"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:48:09 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14374", "name"=>"Absolut Evergreen", "url"=>"https://www.thecocktaildb.com/images/media/drink/wrxrxp1472812609.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "kpcUeiSnQPjQ7SxFhdLQDsbg"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "kpcUeiSnQPjQ7SxFhdLQDsbg"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14374"], ["name", "Absolut Evergreen"], ["url", "https://www.thecocktaildb.com/images/media/drink/wrxrxp1472812609.jpg"], ["user_id", 1], ["created_at", "2018-05-06 18:48:09.151751"], ["updated_at", "2018-05-06 18:48:09.151751"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 1.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:48:10 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:48:15 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "cdPZ1AFLD5MQYM6rzMYccGR7"], ["updated_at", "2018-05-06 18:48:15.676532"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:48:26 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17185", "name"=>"Casino", "url"=>"https://www.thecocktaildb.com/images/media/drink/1mvjxg1504348579.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "cdPZ1AFLD5MQYM6rzMYccGR7"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "cdPZ1AFLD5MQYM6rzMYccGR7"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "17185"], ["name", "Casino"], ["url", "https://www.thecocktaildb.com/images/media/drink/1mvjxg1504348579.jpg"], ["user_id", 1], ["created_at", "2018-05-06 18:48:26.440402"], ["updated_at", "2018-05-06 18:48:26.440402"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 1.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:48:28 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:48:32 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "rymqLomvGh1uProe6syGPx9Y"], ["updated_at", "2018-05-06 18:48:32.875294"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:48:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "rymqLomvGh1uProe6syGPx9Y"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 1.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:48:54 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "rymqLomvGh1uProe6syGPx9Y"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 14:49:02 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "heQUyPRsH491RVME4UPnAWAz"], ["updated_at", "2018-05-06 18:49:02.999629"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:49:15 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17187", "name"=>"Derby", "url"=>"https://www.thecocktaildb.com/images/media/drink/i502ra1504349156.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "heQUyPRsH491RVME4UPnAWAz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "heQUyPRsH491RVME4UPnAWAz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "17187"], ["name", "Derby"], ["url", "https://www.thecocktaildb.com/images/media/drink/i502ra1504349156.jpg"], ["user_id", 2], ["created_at", "2018-05-06 18:49:15.094472"], ["updated_at", "2018-05-06 18:49:15.094472"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 1.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:49:17 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:49:22 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "et1fW54d6Xii6PRqPoVXFWUH"], ["updated_at", "2018-05-06 18:49:22.354594"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:49:24 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "et1fW54d6Xii6PRqPoVXFWUH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 1.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:49:29 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "et1fW54d6Xii6PRqPoVXFWUH"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 14:49:34 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "pF55bshk1TdQPtpzFmdSzzuK"], ["updated_at", "2018-05-06 18:49:34.413447"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 14:49:40 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11291", "name"=>"Daiquiri", "url"=>"https://www.thecocktaildb.com/images/media/drink/usuuur1439906797.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "pF55bshk1TdQPtpzFmdSzzuK"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "pF55bshk1TdQPtpzFmdSzzuK"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "11291"], ["name", "Daiquiri"], ["url", "https://www.thecocktaildb.com/images/media/drink/usuuur1439906797.jpg"], ["user_id", 2], ["created_at", "2018-05-06 18:49:40.953096"], ["updated_at", "2018-05-06 18:49:40.953096"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 1.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 14:49:44 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 14:49:48 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "ZrkPuHv6U58XtFc9ZZwFabNx"], ["updated_at", "2018-05-06 18:49:48.634607"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 14:49:49 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZrkPuHv6U58XtFc9ZZwFabNx"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:02:06 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZrkPuHv6U58XtFc9ZZwFabNx"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 8ms (Views: 2.3ms | ActiveRecord: 4.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:02:20 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZrkPuHv6U58XtFc9ZZwFabNx"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 9ms (Views: 3.0ms | ActiveRecord: 4.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:06:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZrkPuHv6U58XtFc9ZZwFabNx"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 3.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:06:51 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZrkPuHv6U58XtFc9ZZwFabNx"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:07:03 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZrkPuHv6U58XtFc9ZZwFabNx"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:07:10 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZrkPuHv6U58XtFc9ZZwFabNx"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 2.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:07:16 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZrkPuHv6U58XtFc9ZZwFabNx"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 1.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:08:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZrkPuHv6U58XtFc9ZZwFabNx"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 15:08:48 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14029", "name"=>"'57 Chevy with a White License Plate", "url"=>"https://www.thecocktaildb.com/images/media/drink/qyyvtu1468878544.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZrkPuHv6U58XtFc9ZZwFabNx"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZrkPuHv6U58XtFc9ZZwFabNx"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14029"], ["name", "'57 Chevy with a White License Plate"], ["url", "https://www.thecocktaildb.com/images/media/drink/qyyvtu1468878544.jpg"], ["user_id", 2], ["created_at", "2018-05-06 19:08:48.336212"], ["updated_at", "2018-05-06 19:08:48.336212"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 2.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 15:08:53 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 15:08:58 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Xw3hjZmUCG8u9guxXAJq3QGr"], ["updated_at", "2018-05-06 19:08:58.491198"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.1ms | ActiveRecord: 3.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:08:59 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Xw3hjZmUCG8u9guxXAJq3QGr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:09:08 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Xw3hjZmUCG8u9guxXAJq3QGr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 1.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:09:18 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Xw3hjZmUCG8u9guxXAJq3QGr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:09:20 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Xw3hjZmUCG8u9guxXAJq3QGr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.7ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 15:09:32 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17227", "name"=>"Addington", "url"=>"https://www.thecocktaildb.com/images/media/drink/ib0b7g1504818925.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Xw3hjZmUCG8u9guxXAJq3QGr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Xw3hjZmUCG8u9guxXAJq3QGr"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "17227"], ["name", "Addington"], ["url", "https://www.thecocktaildb.com/images/media/drink/ib0b7g1504818925.jpg"], ["user_id", 1], ["created_at", "2018-05-06 19:09:32.229460"], ["updated_at", "2018-05-06 19:09:32.229460"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:09:35 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (8.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 0.3ms | ActiveRecord: 8.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 15:09:42 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.0ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 15:09:46 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "7QQ53Vt7agytTVnstjanx7Dh"], ["updated_at", "2018-05-06 19:09:47.042402"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 74ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:09:50 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "7QQ53Vt7agytTVnstjanx7Dh"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 15:09:54 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "7QQ53Vt7agytTVnstjanx7Dh"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 15:09:58 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "VLyVJVmqGksWTQkUXWZWkxjV"], ["updated_at", "2018-05-06 19:09:58.955111"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:10:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "VLyVJVmqGksWTQkUXWZWkxjV"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.7ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 15:10:09 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15395", "name"=>"1-900-FUK-MEUP", "url"=>"https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "VLyVJVmqGksWTQkUXWZWkxjV"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "VLyVJVmqGksWTQkUXWZWkxjV"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "15395"], ["name", "1-900-FUK-MEUP"], ["url", "https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"], ["user_id", 2], ["created_at", "2018-05-06 19:10:09.274674"], ["updated_at", "2018-05-06 19:10:09.274674"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 2.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 15:10:11 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 15:10:16 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "G6aEMQWBxkJpyKBwr84mKzEi"], ["updated_at", "2018-05-06 19:10:16.583551"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:10:17 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "G6aEMQWBxkJpyKBwr84mKzEi"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.7ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 15:27:24 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17224", "name"=>"Absolutely Fabulous", "url"=>"https://www.thecocktaildb.com/images/media/drink/abcpwr1504817734.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "G6aEMQWBxkJpyKBwr84mKzEi"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "G6aEMQWBxkJpyKBwr84mKzEi"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.9ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "17224"], ["name", "Absolutely Fabulous"], ["url", "https://www.thecocktaildb.com/images/media/drink/abcpwr1504817734.jpg"], ["user_id", 2], ["created_at", "2018-05-06 19:27:24.750788"], ["updated_at", "2018-05-06 19:27:24.750788"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 2.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 15:27:31 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 15:27:38 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "ruCDBUfomKjbiYpnFS8F3Lar"], ["updated_at", "2018-05-06 19:27:38.408991"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:27:39 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ruCDBUfomKjbiYpnFS8F3Lar"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:44:10 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ruCDBUfomKjbiYpnFS8F3Lar"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 9ms (Views: 3.4ms | ActiveRecord: 3.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:50:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ruCDBUfomKjbiYpnFS8F3Lar"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 8ms (Views: 4.0ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 15:50:35 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ruCDBUfomKjbiYpnFS8F3Lar"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 15:51:05 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ruCDBUfomKjbiYpnFS8F3Lar"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 1.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 15:51:06 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 16:54:13 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 16:54:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 16:54:20 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 16:54:36 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "5yX2Th2RDrdwH8Yfk98pYLxJ"], ["updated_at", "2018-05-06 20:54:36.497368"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 3.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 16:54:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "5yX2Th2RDrdwH8Yfk98pYLxJ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 2.7ms | ActiveRecord: 1.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 16:54:47 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "5yX2Th2RDrdwH8Yfk98pYLxJ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 17:41:09 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 17:41:10 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 17:45:59 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.7ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 17:46:06 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "F23MEv3FPab8YUmtFTnC3pyb"], ["updated_at", "2018-05-06 21:46:06.584281"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 17:48:10 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "F23MEv3FPab8YUmtFTnC3pyb"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 1.8ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 17:48:19 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "uFWcm4vGakpiDg4exBwFZgZa"], ["updated_at", "2018-05-06 21:48:19.670004"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 1.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 17:51:35 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "uFWcm4vGakpiDg4exBwFZgZa"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.7ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 17:51:40 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "6f8xnwhCBVnvTa9DsgU4MyLX"], ["updated_at", "2018-05-06 21:51:40.306263"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.3ms | ActiveRecord: 6.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 17:52:46 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "6f8xnwhCBVnvTa9DsgU4MyLX"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 17:52:50 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "XsMsFb35p2A11Lo5rrzBVPCK"], ["updated_at", "2018-05-06 21:52:51.064921"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 17:53:12 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"pig", "password"=>"[FILTERED]", "email"=>"pig@pig.com", "name"=>"pig"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "pig"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "pig"], ["password_digest", "$2a$10$ge8vebRoj6YHJV1.09RlAOERoDps6fb/qK3pApN3MYUytogD3mSne"], ["email", "pig@pig.com"], ["name", "pig"], ["auth_token", "fETMhs9Qv7QaiSfND9teogSK"], ["created_at", "2018-05-06 21:53:12.575397"], ["updated_at", "2018-05-06 21:53:12.575397"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 17:53:17 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"pig", "password"=>"[FILTERED]", "email"=>"pig@pig.com", "name"=>"pig"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "pig"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:5
Completed 422 Unprocessable Entity in 77ms (ActiveRecord: 2.0ms)


  
ActiveRecord::RecordInvalid (Validation failed: Username has already been taken):
  
app/controllers/users_controller.rb:5:in `create'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 17:54:53 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/users" for 127.0.0.1 at 2018-05-06 17:55:06 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"grass", "password"=>"[FILTERED]", "email"=>"grass@grass.com", "name"=>"grass"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "grass"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "grass"], ["password_digest", "$2a$10$FGUse0GTewOIpPYGe2DxGOqK0hG.0B/b/HxMv4poFPHDxSw3Riys2"], ["email", "grass@grass.com"], ["name", "grass"], ["auth_token", "k8EMk1RLsL5VFXGusLqGEWFP"], ["created_at", "2018-05-06 21:55:06.763956"], ["updated_at", "2018-05-06 21:55:06.763956"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 1.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 17:55:30 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "k8EMk1RLsL5VFXGusLqGEWFP"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 4]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.7ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 17:55:44 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"ant", "password"=>"[FILTERED]", "email"=>"ant@ant.com", "name"=>"ant"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ant"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "ant"], ["password_digest", "$2a$10$v9rGY9lpdrQQMKt8EyYgOejUQcuGKdo6ASlVnPaPZTNQasMaCHJPq"], ["email", "ant@ant.com"], ["name", "ant"], ["auth_token", "dSnf3Y2xMdBx2fUJaFAD5bTM"], ["created_at", "2018-05-06 21:55:44.586351"], ["updated_at", "2018-05-06 21:55:44.586351"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 17:56:48 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "dSnf3Y2xMdBx2fUJaFAD5bTM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 5]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 17:56:52 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/users" for 127.0.0.1 at 2018-05-06 17:57:10 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"cloud", "password"=>"[FILTERED]", "email"=>"cloud@cloud.com", "name"=>"cloud"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cloud"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "cloud"], ["password_digest", "$2a$10$TjzHoU4t5bwrkhxPAjFzEemT4aZ0CunZPLrWlpZ2MwDo895sd0l.S"], ["email", "cloud@cloud.com"], ["name", "cloud"], ["auth_token", "MK5iiYdN82VzTAqsXmdhUzxD"], ["created_at", "2018-05-06 21:57:11.055257"], ["updated_at", "2018-05-06 21:57:11.055257"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 1.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 17:57:31 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "MK5iiYdN82VzTAqsXmdhUzxD"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 6]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 17:58:16 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 17:59:47 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "avWvJ84EeokwBQRu9RoiNMAB"], ["updated_at", "2018-05-06 21:59:47.979224"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 17:59:52 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "avWvJ84EeokwBQRu9RoiNMAB"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 1.5ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 18:01:40 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"goat", "password"=>"[FILTERED]", "email"=>"goat@goat.com", "name"=>"goat"}}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "goat"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "goat"], ["password_digest", "$2a$10$NXL8vcnP4CMqpK7484DU.exMnJ7zwmdVytYXyFBIPLnk.NMavsubq"], ["email", "goat@goat.com"], ["name", "goat"], ["auth_token", "KaAU1b9vM4RZw3UQUWU6iWQj"], ["created_at", "2018-05-06 22:01:40.556277"], ["updated_at", "2018-05-06 22:01:40.556277"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 18:05:38 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "KaAU1b9vM4RZw3UQUWU6iWQj"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 7]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 18:05:42 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 18:05:55 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 18:05:56 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 18:06:09 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/users" for 127.0.0.1 at 2018-05-06 18:08:02 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"rabbit", "password"=>"[FILTERED]", "email"=>"rabbit@rabbit.com", "name"=>"rabbit"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rabbit"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "rabbit"], ["password_digest", "$2a$10$Hcs1E0MYVwzlkiMc/yO6Su.HFZfCwi8.5JuW0mf1.MmuwWZWO8lJC"], ["email", "rabbit@rabbit.com"], ["name", "rabbit"], ["auth_token", "iVAbcphboevApv8JAm7ikjD4"], ["created_at", "2018-05-06 22:08:02.850284"], ["updated_at", "2018-05-06 22:08:02.850284"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 18:08:44 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "iVAbcphboevApv8JAm7ikjD4"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 8]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 18:08:59 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"hello", "password"=>"[FILTERED]", "email"=>"hello@hello.com", "name"=>"hello"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "hello"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "hello"], ["password_digest", "$2a$10$dXiG9DRui2JSnibBZq8KGeUJcePEBlLgg0q4l1bL49NDbEYoX6ICC"], ["email", "hello@hello.com"], ["name", "hello"], ["auth_token", "rRkDWtYKbJHAp14kWBepS3qd"], ["created_at", "2018-05-06 22:08:59.481981"], ["updated_at", "2018-05-06 22:08:59.481981"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 1.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 18:10:26 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "rRkDWtYKbJHAp14kWBepS3qd"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 9]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 18:10:44 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"poop", "password"=>"[FILTERED]", "email"=>"poop@poop.com", "name"=>"poop"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "poop"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "poop"], ["password_digest", "$2a$10$lnUiIbnT05hKBkXE6GWfK.W.xcxHmd/qp0hxDUgskxMUAbDKnusEm"], ["email", "poop@poop.com"], ["name", "poop"], ["auth_token", "yrSXcmCbxuQ5jc9JMCaGY5Yf"], ["created_at", "2018-05-06 22:10:44.215358"], ["updated_at", "2018-05-06 22:10:44.215358"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 80ms (Views: 0.3ms | ActiveRecord: 2.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 18:11:10 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "yrSXcmCbxuQ5jc9JMCaGY5Yf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 10]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 18:11:23 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"owl", "password"=>"[FILTERED]", "email"=>"owl@owl.com", "name"=>"owl"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "owl"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "owl"], ["password_digest", "$2a$10$.R3ztu6QnZPLthlono9vB.374lPl.Dqu2ZHLc1..Ka2O.oCv7IMiu"], ["email", "owl@owl.com"], ["name", "owl"], ["auth_token", "t8mxxqZdTueXZtAcYtPeC893"], ["created_at", "2018-05-06 22:11:23.460052"], ["updated_at", "2018-05-06 22:11:23.460052"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 75ms (Views: 0.3ms | ActiveRecord: 2.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 18:12:29 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "t8mxxqZdTueXZtAcYtPeC893"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 11]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 18:12:42 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"hi", "password"=>"[FILTERED]", "email"=>"hi@hi.com", "name"=>"hi"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "hi"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "hi"], ["password_digest", "$2a$10$ntreN2Ex9u1YgyY.DwY/3eIvkmtIpM6Qa47JsmSExCwQv6sUfa.De"], ["email", "hi@hi.com"], ["name", "hi"], ["auth_token", "BSDWFfs98Xd3oaj659wNSfcC"], ["created_at", "2018-05-06 22:12:42.255805"], ["updated_at", "2018-05-06 22:12:42.255805"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 1.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 18:12:50 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "BSDWFfs98Xd3oaj659wNSfcC"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 12]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 18:12:56 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "B2muWKuwT6e9Yawm1HAU2cvC"], ["updated_at", "2018-05-06 22:12:56.145397"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 18:13:40 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "B2muWKuwT6e9Yawm1HAU2cvC"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 19:07:03 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "UwPD69rRhnuXJKt1cneerguZ"], ["updated_at", "2018-05-06 23:07:03.877164"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 3.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 19:07:14 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17005", "name"=>"A True Amaretto Sour", "url"=>"https://www.thecocktaildb.com/images/media/drink/rptuxy1472669372.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "UwPD69rRhnuXJKt1cneerguZ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "UwPD69rRhnuXJKt1cneerguZ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "17005"], ["name", "A True Amaretto Sour"], ["url", "https://www.thecocktaildb.com/images/media/drink/rptuxy1472669372.jpg"], ["user_id", 1], ["created_at", "2018-05-06 23:07:14.833003"], ["updated_at", "2018-05-06 23:07:14.833003"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 13ms (Views: 0.6ms | ActiveRecord: 7.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:07:23 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (7.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 0.3ms | ActiveRecord: 7.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 19:07:35 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 19:07:42 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "A8i5ZaXqLzeX1hETw9DAyoYL"], ["updated_at", "2018-05-06 23:07:42.330770"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:07:43 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "A8i5ZaXqLzeX1hETw9DAyoYL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.8ms)


Started DELETE "/favorites/17" for 127.0.0.1 at 2018-05-06 19:07:49 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"17", "favorite"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "A8i5ZaXqLzeX1hETw9DAyoYL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 17]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/17
Completed 302 Found in 8ms (ActiveRecord: 3.2ms)


Started DELETE "/favorites/17" for 127.0.0.1 at 2018-05-06 19:07:49 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"17", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "A8i5ZaXqLzeX1hETw9DAyoYL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 3ms (ActiveRecord: 0.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=17):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:07:49 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "A8i5ZaXqLzeX1hETw9DAyoYL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 19:08:45 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "A8i5ZaXqLzeX1hETw9DAyoYL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:08:58 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:09:57 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 19:10:56 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/users" for 127.0.0.1 at 2018-05-06 19:11:12 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"mike", "password"=>"[FILTERED]", "email"=>"mike@mike.com", "name"=>"mike"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mike"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "mike"], ["password_digest", "$2a$10$mq0zmhliPnRk2xBxc.kCiu7TVcQXyVNdUzP6LGOcoumX.o7YRClwm"], ["email", "mike@mike.com"], ["name", "mike"], ["auth_token", "sepgzfq3FBhzjt6VNJqbVw9B"], ["created_at", "2018-05-06 23:11:12.311110"], ["updated_at", "2018-05-06 23:11:12.311110"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:11:21 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "sepgzfq3FBhzjt6VNJqbVw9B"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.7ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 19:14:01 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11291", "name"=>"Daiquiri", "url"=>"https://www.thecocktaildb.com/images/media/drink/usuuur1439906797.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "sepgzfq3FBhzjt6VNJqbVw9B"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "sepgzfq3FBhzjt6VNJqbVw9B"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "11291"], ["name", "Daiquiri"], ["url", "https://www.thecocktaildb.com/images/media/drink/usuuur1439906797.jpg"], ["user_id", 13], ["created_at", "2018-05-06 23:14:01.853466"], ["updated_at", "2018-05-06 23:14:01.853466"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 2.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:14:04 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:14:07 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:20:19 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 0.2ms | ActiveRecord: 20.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:20:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 19:20:44 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 19:20:50 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "oHA9ox4DwhGudTgLxkzgvNAE"], ["updated_at", "2018-05-06 23:20:50.925124"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 88ms (Views: 0.2ms | ActiveRecord: 5.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:20:52 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "oHA9ox4DwhGudTgLxkzgvNAE"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 21ms (Views: 14.7ms | ActiveRecord: 4.9ms)


Started DELETE "/favorites/18" for 127.0.0.1 at 2018-05-06 19:20:57 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"18", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "oHA9ox4DwhGudTgLxkzgvNAE"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:32
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/favorites_controller.rb:32
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:32
Redirected to http://localhost:3000/favorites/18
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)


Started DELETE "/favorites/18" for 127.0.0.1 at 2018-05-06 19:20:57 -0400
Processing by FavoritesController#destroy as */*
  Parameters: {"id"=>"18", "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "oHA9ox4DwhGudTgLxkzgvNAE"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" WHERE "favorites"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/favorites_controller.rb:31
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Favorite with 'id'=18):
  
app/controllers/favorites_controller.rb:31:in `destroy'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:20:57 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "oHA9ox4DwhGudTgLxkzgvNAE"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.5ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 19:21:06 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14564", "name"=>"A Splash of Nash", "url"=>"https://www.thecocktaildb.com/images/media/drink/rsvtrr1472668201.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "oHA9ox4DwhGudTgLxkzgvNAE"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:21:08 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:24:27 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 13ms (Views: 0.2ms | ActiveRecord: 4.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 19:24:34 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 19:24:39 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "g1Eb33QmwNj2jYJ5dKkedUCk"], ["updated_at", "2018-05-06 23:24:39.499068"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 84ms (Views: 0.2ms | ActiveRecord: 3.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:24:40 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "g1Eb33QmwNj2jYJ5dKkedUCk"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 19ms (Views: 11.1ms | ActiveRecord: 5.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 19:24:45 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "g1Eb33QmwNj2jYJ5dKkedUCk"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 19:24:51 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Ws8AayfGkHhbHSez2WFmjeYV"], ["updated_at", "2018-05-06 23:24:51.581025"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:24:52 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Ws8AayfGkHhbHSez2WFmjeYV"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 1.0ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 19:24:59 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17223", "name"=>"Abbey Martini", "url"=>"https://www.thecocktaildb.com/images/media/drink/2mcozt1504817403.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Ws8AayfGkHhbHSez2WFmjeYV"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:25:01 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 1.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:26:31 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 0.3ms | ActiveRecord: 4.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 19:26:38 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 19:26:42 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "GkFyTiSxZvHYXuj1H8CJArKM"], ["updated_at", "2018-05-06 23:26:42.798469"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 85ms (Views: 0.2ms | ActiveRecord: 4.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:26:43 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "GkFyTiSxZvHYXuj1H8CJArKM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 17ms (Views: 9.9ms | ActiveRecord: 5.1ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 19:26:48 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11019", "name"=>"Alfie Cocktail", "url"=>"https://www.thecocktaildb.com/images/media/drink/ypxsqy1483387829.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "GkFyTiSxZvHYXuj1H8CJArKM"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:26:50 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (213.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_development"[0m
  â†³ bin/rails:4
  [1m[35m (211.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_test"[0m
  â†³ bin/rails:4
  [1m[35m (441.7ms)[0m  [1m[35mCREATE DATABASE "thirsty_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (453.7ms)[0m  [1m[35mCREATE DATABASE "thirsty_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:4
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateUsers (20180502143541)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "email" character varying, "name" character varying, "auth_token" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[35m (5.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_username" ON "users"  ("username")[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502143541"]]
  â†³ bin/rails:4
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
Migrating to CreateDrinks (20180502164512)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "drinks" ("id" bigserial primary key, "name" character varying, "description" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_drinks_on_user_id" ON "drinks"  ("user_id")[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502164512"]]
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
Migrating to CreateFavorites (20180502222005)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "drink_id" character varying, "name" character varying, "url" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502222005_create_favorites.rb:3
  [1m[35m (2.6ms)[0m  [1m[35mCREATE  INDEX  "index_favorites_on_user_id" ON "favorites"  ("user_id")[0m
  â†³ db/migrate/20180502222005_create_favorites.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502222005"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:4
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-05-06 23:36:18.007848"], ["updated_at", "2018-05-06 23:36:18.007848"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 19:36:42 -0400
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 19ms (ActiveRecord: 2.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 19:36:44 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.9ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:4
  [1m[35m (208.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_development"[0m
  â†³ bin/rails:4
  [1m[35m (201.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "thirsty_test"[0m
  â†³ bin/rails:4
  [1m[35m (470.8ms)[0m  [1m[35mCREATE DATABASE "thirsty_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (454.3ms)[0m  [1m[35mCREATE DATABASE "thirsty_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:4
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:4
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:4
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Migrating to CreateUsers (20180502143541)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (20.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "email" character varying, "name" character varying, "auth_token" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_username" ON "users"  ("username")[0m
  â†³ db/migrate/20180502143541_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502143541"]]
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
Migrating to CreateDrinks (20180502164512)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "drinks" ("id" bigserial primary key, "name" character varying, "description" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_drinks_on_user_id" ON "drinks"  ("user_id")[0m
  â†³ db/migrate/20180502164512_create_drinks.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502164512"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
Migrating to CreateFavorites (20180502222005)
  [1m[35m (6.7ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (32.9ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "drink_id" character varying, "name" character varying, "url" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20180502222005_create_favorites.rb:3
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_favorites_on_user_id" ON "favorites"  ("user_id")[0m
  â†³ db/migrate/20180502222005_create_favorites.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180502222005"]]
  â†³ bin/rails:4
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-05-06 23:50:34.340964"], ["updated_at", "2018-05-06 23:50:34.340964"]]
  â†³ bin/rails:4
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7083651225712258890)[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:4
Started POST "/users" for 127.0.0.1 at 2018-05-06 19:53:18 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"cat", "password"=>"[FILTERED]", "email"=>"cat@cat.com", "name"=>"cat"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "cat"], ["password_digest", "$2a$10$QZZddRd7UBLQhD3RVlb.PucwYdolnWODHO.Mcm93a.Yor6n5T/IO6"], ["email", "cat@cat.com"], ["name", "cat"], ["auth_token", "RyNycBWeMzB2Njy5jwPXyMMb"], ["created_at", "2018-05-06 23:53:18.505536"], ["updated_at", "2018-05-06 23:53:18.505536"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 95ms (Views: 0.3ms | ActiveRecord: 6.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:53:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "RyNycBWeMzB2Njy5jwPXyMMb"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 5.7ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 19:53:36 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17005", "name"=>"A True Amaretto Sour", "url"=>"https://www.thecocktaildb.com/images/media/drink/rptuxy1472669372.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "RyNycBWeMzB2Njy5jwPXyMMb"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 2ms (ActiveRecord: 0.3ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:53:40 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 19:54:59 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 19:55:05 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "7VE1YDZFZT86dFxJpfBeunYJ"], ["updated_at", "2018-05-06 23:55:05.497078"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 3.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:55:06 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "7VE1YDZFZT86dFxJpfBeunYJ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.9ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 19:55:19 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11000", "name"=>"A Furlong Too Late", "url"=>"https://www.thecocktaildb.com/images/media/drink/ssxvww1472669166.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "7VE1YDZFZT86dFxJpfBeunYJ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.3ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:55:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 19:55:26 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 19:55:32 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "sjMwSm9MM7RVpp3Xn55wm5id"], ["updated_at", "2018-05-06 23:55:32.656166"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 19:55:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "sjMwSm9MM7RVpp3Xn55wm5id"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:04:03 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "sjMwSm9MM7RVpp3Xn55wm5id"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 29ms (ActiveRecord: 6.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:04:03 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.9ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:04:12 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "WZ36orbqSpvmfKSFfXcT5onj"], ["updated_at", "2018-05-07 00:04:12.990554"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 87ms (Views: 0.2ms | ActiveRecord: 2.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:04:14 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "WZ36orbqSpvmfKSFfXcT5onj"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 10.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:04:19 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "WZ36orbqSpvmfKSFfXcT5onj"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (6.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 10ms (Views: 1.1ms | ActiveRecord: 6.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:04:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "WZ36orbqSpvmfKSFfXcT5onj"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.8ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:04:27 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11003", "name"=>"Abbey Cocktail", "url"=>"https://www.thecocktaildb.com/images/media/drink/quyyuw1472811568.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "WZ36orbqSpvmfKSFfXcT5onj"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 2ms (ActiveRecord: 0.5ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:04:29 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:08:50 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 17ms (Views: 0.3ms | ActiveRecord: 4.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:09:25 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:09:34 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "AXzk4KKs2YAzU9dbJzrV9Dvm"], ["updated_at", "2018-05-07 00:09:34.690423"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 90ms (Views: 0.2ms | ActiveRecord: 4.8ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:10:37 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15395", "name"=>"1-900-FUK-MEUP", "url"=>"https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "AXzk4KKs2YAzU9dbJzrV9Dvm"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "AXzk4KKs2YAzU9dbJzrV9Dvm"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "15395"], ["name", "1-900-FUK-MEUP"], ["url", "https://www.thecocktaildb.com/images/media/drink/uxywyw1468877224.jpg"], ["user_id", 1], ["created_at", "2018-05-07 00:10:37.359446"], ["updated_at", "2018-05-07 00:10:37.359446"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 28ms (Views: 0.6ms | ActiveRecord: 4.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:11:29 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:11:40 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:11:45 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "PMR4uyD9d1gWSc4nQs1Ri7sA"], ["updated_at", "2018-05-07 00:11:45.961032"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:11:47 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "PMR4uyD9d1gWSc4nQs1Ri7sA"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 2.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:11:57 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "PMR4uyD9d1gWSc4nQs1Ri7sA"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:11:57 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/users" for 127.0.0.1 at 2018-05-06 20:12:11 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"dog", "password"=>"[FILTERED]", "email"=>"dog@dog.com", "name"=>"dog"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "dog"], ["password_digest", "$2a$10$18ojwP3NUa84Dp/1VSOogOTlze6gN3qU4A4i.PnlNRsTS7u3naIMe"], ["email", "dog@dog.com"], ["name", "dog"], ["auth_token", "pmpjn7tAtyHeuuTJjqhBHzF9"], ["created_at", "2018-05-07 00:12:11.140698"], ["updated_at", "2018-05-07 00:12:11.140698"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 1.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:12:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "pmpjn7tAtyHeuuTJjqhBHzF9"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:15:49 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "pmpjn7tAtyHeuuTJjqhBHzF9"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 39ms (Views: 7.4ms | ActiveRecord: 10.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:15:52 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "pmpjn7tAtyHeuuTJjqhBHzF9"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 1.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:15:53 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:16:00 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Y8sMiXzaQNZ5fPbUrCaQt3cR"], ["updated_at", "2018-05-07 00:16:00.449593"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.3ms | ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:16:01 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Y8sMiXzaQNZ5fPbUrCaQt3cR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 1.7ms | ActiveRecord: 2.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:16:08 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"13940", "name"=>"69 Special", "url"=>"https://www.thecocktaildb.com/images/media/drink/vqyxqx1472669095.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Y8sMiXzaQNZ5fPbUrCaQt3cR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Y8sMiXzaQNZ5fPbUrCaQt3cR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "13940"], ["name", "69 Special"], ["url", "https://www.thecocktaildb.com/images/media/drink/vqyxqx1472669095.jpg"], ["user_id", 2], ["created_at", "2018-05-07 00:16:08.835667"], ["updated_at", "2018-05-07 00:16:08.835667"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 9ms (Views: 0.5ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:16:10 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:16:20 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:16:27 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "TkzuC2dsWmP19sVBc9fgeGpD"], ["updated_at", "2018-05-07 00:16:27.969680"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:16:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TkzuC2dsWmP19sVBc9fgeGpD"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:17:28 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "TkzuC2dsWmP19sVBc9fgeGpD"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:18:41 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 11ms (ActiveRecord: 3.8ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:18:48 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "6UdofvRs3vYosqb85JLMp1U9"], ["updated_at", "2018-05-07 00:18:48.137798"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 91ms (Views: 0.2ms | ActiveRecord: 5.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:18:49 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "6UdofvRs3vYosqb85JLMp1U9"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 12ms (Views: 8.2ms | ActiveRecord: 6.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:18:53 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11020", "name"=>"Algonquin", "url"=>"https://www.thecocktaildb.com/images/media/drink/uwryxx1483387873.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "6UdofvRs3vYosqb85JLMp1U9"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "6UdofvRs3vYosqb85JLMp1U9"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "11020"], ["name", "Algonquin"], ["url", "https://www.thecocktaildb.com/images/media/drink/uwryxx1483387873.jpg"], ["user_id", 1], ["created_at", "2018-05-07 00:18:53.315148"], ["updated_at", "2018-05-07 00:18:53.315148"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 2.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:18:55 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 1.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:19:02 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:19:10 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "wN9Sii3w9Uvk7H7FLC6w4oD2"], ["updated_at", "2018-05-07 00:19:11.003891"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:19:11 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "wN9Sii3w9Uvk7H7FLC6w4oD2"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:20:47 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "wN9Sii3w9Uvk7H7FLC6w4oD2"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 52ms (Views: 16.0ms | ActiveRecord: 20.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:20:49 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "wN9Sii3w9Uvk7H7FLC6w4oD2"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 20:20:58 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Bku5UCvC4CfxJXzz63qsuu8B"], ["updated_at", "2018-05-07 00:20:58.272614"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.3ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:20:59 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Bku5UCvC4CfxJXzz63qsuu8B"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (3.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 3.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:21:06 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Bku5UCvC4CfxJXzz63qsuu8B"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 5ms (ActiveRecord: 2.3ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 20:21:14 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "L8jGhSaDRdTCCMJuQrQ3pwwN"], ["updated_at", "2018-05-07 00:21:14.643944"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:21:16 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "L8jGhSaDRdTCCMJuQrQ3pwwN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:23:30 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "L8jGhSaDRdTCCMJuQrQ3pwwN"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 1.6ms)


Started POST "/users" for 127.0.0.1 at 2018-05-06 20:23:46 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"pony", "password"=>"[FILTERED]", "email"=>"pony@pony.com", "name"=>"pony"}}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "pony"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "pony"], ["password_digest", "$2a$10$0asqETTbFNQVfR9SYtEWYONkWch9FUbn4Nb7usEQHtBmcUannlnhu"], ["email", "pony@pony.com"], ["name", "pony"], ["auth_token", "jEFVS5XK1C9RruHUSWyDrvv7"], ["created_at", "2018-05-07 00:23:46.465681"], ["updated_at", "2018-05-07 00:23:46.465681"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:23:53 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jEFVS5XK1C9RruHUSWyDrvv7"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:30:50 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jEFVS5XK1C9RruHUSWyDrvv7"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 38ms (Views: 10.9ms | ActiveRecord: 19.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:30:56 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jEFVS5XK1C9RruHUSWyDrvv7"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:31:02 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17005", "name"=>"A True Amaretto Sour", "url"=>"https://www.thecocktaildb.com/images/media/drink/rptuxy1472669372.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jEFVS5XK1C9RruHUSWyDrvv7"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Completed 500 Internal Server Error in 120ms (ActiveRecord: 0.3ms)


  
NameError (undefined local variable or method `current_user_id' for #<FavoritesController:0x00007fd81e9b9b20>
Did you mean?  current_user):
  
app/controllers/favorites_controller.rb:18:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:31:05 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 1.4ms | ActiveRecord: 0.7ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:31:07 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:31:15 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:31:21 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "L3eWQqACwGyFMjTA7QG1zUFL"], ["updated_at", "2018-05-07 00:31:21.700682"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:31:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "L3eWQqACwGyFMjTA7QG1zUFL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 1.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:31:30 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "L3eWQqACwGyFMjTA7QG1zUFL"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 20:31:36 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "4QGUBj21bYLopT4YcWGHZMLB"], ["updated_at", "2018-05-07 00:31:36.519283"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:31:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4QGUBj21bYLopT4YcWGHZMLB"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.7ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:31:45 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11023", "name"=>"Almeria", "url"=>"https://www.thecocktaildb.com/images/media/drink/rwsyyu1483388181.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4QGUBj21bYLopT4YcWGHZMLB"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Completed 500 Internal Server Error in 107ms (ActiveRecord: 0.3ms)


  
NameError (undefined local variable or method `current_user_id' for #<FavoritesController:0x00007fd81fdd5c80>
Did you mean?  current_user):
  
app/controllers/favorites_controller.rb:18:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:31:48 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:32:00 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:32:06 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Yaisr5QG6A2Z4LP372seRgGo"], ["updated_at", "2018-05-07 00:32:06.253113"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.3ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:32:07 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Yaisr5QG6A2Z4LP372seRgGo"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 1.7ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:32:19 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17005", "name"=>"A True Amaretto Sour", "url"=>"https://www.thecocktaildb.com/images/media/drink/rptuxy1472669372.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Yaisr5QG6A2Z4LP372seRgGo"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Completed 500 Internal Server Error in 108ms (ActiveRecord: 0.2ms)


  
NameError (undefined local variable or method `current_user_id' for #<FavoritesController:0x00007fd81e9e2610>
Did you mean?  current_user):
  
app/controllers/favorites_controller.rb:18:in `create'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:32:22 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:32:22 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:32:29 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "V5CUHoFA6NwaJmn7NcubKPpW"], ["updated_at", "2018-05-07 00:32:29.368388"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:32:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "V5CUHoFA6NwaJmn7NcubKPpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:32:33 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "V5CUHoFA6NwaJmn7NcubKPpW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 20:32:39 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "m8zAVN9wWZ96fT3gER64naoK"], ["updated_at", "2018-05-07 00:32:39.279041"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:32:40 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "m8zAVN9wWZ96fT3gER64naoK"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.9ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:32:46 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11000", "name"=>"A Furlong Too Late", "url"=>"https://www.thecocktaildb.com/images/media/drink/ssxvww1472669166.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "m8zAVN9wWZ96fT3gER64naoK"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Completed 500 Internal Server Error in 106ms (ActiveRecord: 0.2ms)


  
NameError (undefined local variable or method `current_user_id' for #<FavoritesController:0x00007fd822103298>
Did you mean?  current_user):
  
app/controllers/favorites_controller.rb:18:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:32:51 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:32:59 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:33:04 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "kcacv7qGd1YtXkdDpGvbtxVK"], ["updated_at", "2018-05-07 00:33:04.426534"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:33:05 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "kcacv7qGd1YtXkdDpGvbtxVK"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:33:38 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "kcacv7qGd1YtXkdDpGvbtxVK"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 20:33:48 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "NNfXLQTjB9itocEkxXnXV1w2"], ["updated_at", "2018-05-07 00:33:48.961288"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.3ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:33:51 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NNfXLQTjB9itocEkxXnXV1w2"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:36:09 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NNfXLQTjB9itocEkxXnXV1w2"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mFavorite Load (53.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 96ms (Views: 10.6ms | ActiveRecord: 83.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:36:26 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "NNfXLQTjB9itocEkxXnXV1w2"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.7ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 20:36:32 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "wfSaZJy1d8JhSPbwGAdprBvg"], ["updated_at", "2018-05-07 00:36:33.074833"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:36:34 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "wfSaZJy1d8JhSPbwGAdprBvg"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.9ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:36:39 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14374", "name"=>"Absolut Evergreen", "url"=>"https://www.thecocktaildb.com/images/media/drink/wrxrxp1472812609.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "wfSaZJy1d8JhSPbwGAdprBvg"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:36:42 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:36:53 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:36:58 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "si4J3zA8PHp7PxZ33CHxmCYQ"], ["updated_at", "2018-05-07 00:36:58.725903"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:37:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "si4J3zA8PHp7PxZ33CHxmCYQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:22
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:39:12 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "si4J3zA8PHp7PxZ33CHxmCYQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 53ms (Views: 20.7ms | ActiveRecord: 12.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:39:13 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "si4J3zA8PHp7PxZ33CHxmCYQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 5ms (ActiveRecord: 1.9ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 20:39:21 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "nu7VsTWCJAqDLSXHGdPfyJdf"], ["updated_at", "2018-05-07 00:39:21.205852"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:39:22 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "nu7VsTWCJAqDLSXHGdPfyJdf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.8ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:39:28 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"16958", "name"=>"Apple Pie with A Crust", "url"=>"https://www.thecocktaildb.com/images/media/drink/qspqxt1472720078.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "nu7VsTWCJAqDLSXHGdPfyJdf"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 2ms (ActiveRecord: 0.3ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:39:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:39:37 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:39:46 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "CAj8mVHn3WDyUmMdW66WEpwS"], ["updated_at", "2018-05-07 00:39:46.315165"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:39:47 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CAj8mVHn3WDyUmMdW66WEpwS"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:49:12 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
Completed 500 Internal Server Error in 127ms (ActiveRecord: 8.0ms)


  
NoMethodError (undefined method `require_login' for #<FavoritesController:0x00007fd81e2ed030>
Did you mean?  require):
  
activesupport (5.2.0) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (5.2.0) lib/active_support/callbacks.rb:198:in `block (2 levels) in halting'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (5.2.0) lib/active_support/callbacks.rb:199:in `block in halting'
activesupport (5.2.0) lib/active_support/callbacks.rb:513:in `block in invoke_before'
activesupport (5.2.0) lib/active_support/callbacks.rb:513:in `each'
activesupport (5.2.0) lib/active_support/callbacks.rb:513:in `invoke_before'
activesupport (5.2.0) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.0) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.0) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:134:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:49:31 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "CAj8mVHn3WDyUmMdW66WEpwS"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 18ms (ActiveRecord: 5.9ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 20:49:36 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "8iUbsd87w2piK267RZXkU7sQ"], ["updated_at", "2018-05-07 00:49:37.013978"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:49:38 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
Completed 500 Internal Server Error in 62ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `require_login' for #<FavoritesController:0x00007fd81fd9f388>
Did you mean?  require):
  
activesupport (5.2.0) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (5.2.0) lib/active_support/callbacks.rb:198:in `block (2 levels) in halting'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (5.2.0) lib/active_support/callbacks.rb:199:in `block in halting'
activesupport (5.2.0) lib/active_support/callbacks.rb:513:in `block in invoke_before'
activesupport (5.2.0) lib/active_support/callbacks.rb:513:in `each'
activesupport (5.2.0) lib/active_support/callbacks.rb:513:in `invoke_before'
activesupport (5.2.0) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.2.0) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.0) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.0) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.0) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.0) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.0) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.0) lib/abstract_controller/base.rb:134:in `process'
actionpack (5.2.0) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.0) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.0) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.2.0) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.0) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.0) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.0) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.0) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.0) lib/rails/engine.rb:524:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:55:35 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "8iUbsd87w2piK267RZXkU7sQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 34ms (Views: 8.4ms | ActiveRecord: 16.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:55:42 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15288", "name"=>"252", "url"=>"https://www.thecocktaildb.com/images/media/drink/rtpxqw1468877562.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "8iUbsd87w2piK267RZXkU7sQ"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 2ms (ActiveRecord: 0.3ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:55:45 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:55:51 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "DHak8omeqYDnBXhN91FqJVPR"], ["updated_at", "2018-05-07 00:55:51.281369"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.3ms | ActiveRecord: 2.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:55:52 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "DHak8omeqYDnBXhN91FqJVPR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:55:56 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "DHak8omeqYDnBXhN91FqJVPR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:55:59 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "DHak8omeqYDnBXhN91FqJVPR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 20:56:04 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "nWtWmKwgXwsdGNcsz8YjH5fW"], ["updated_at", "2018-05-07 00:56:04.615821"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:56:05 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "nWtWmKwgXwsdGNcsz8YjH5fW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:56:21 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14374", "name"=>"Absolut Evergreen", "url"=>"https://www.thecocktaildb.com/images/media/drink/wrxrxp1472812609.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "nWtWmKwgXwsdGNcsz8YjH5fW"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorite):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:56:23 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:56:28 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "BhLMrPnZ6fTscwCmy9zyGSnj"], ["updated_at", "2018-05-07 00:56:29.024980"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.3ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:56:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "BhLMrPnZ6fTscwCmy9zyGSnj"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:58:26 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "BhLMrPnZ6fTscwCmy9zyGSnj"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 17ms (ActiveRecord: 5.4ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 20:58:32 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "udcU8NuSjszrF6NN6WsCn53i"], ["updated_at", "2018-05-07 00:58:32.125534"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:58:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "udcU8NuSjszrF6NN6WsCn53i"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 121ms (ActiveRecord: 6.1ms)


  
NameError (undefined local variable or method `favorite' for #<FavoritesController:0x00007fd81fe34208>
Did you mean?  favorites):
  
app/controllers/favorites_controller.rb:7:in `index'
Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:59:00 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14029", "name"=>"'57 Chevy with a White License Plate", "url"=>"https://www.thecocktaildb.com/images/media/drink/qyyvtu1468878544.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "udcU8NuSjszrF6NN6WsCn53i"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "udcU8NuSjszrF6NN6WsCn53i"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14029"], ["name", "'57 Chevy with a White License Plate"], ["url", "https://www.thecocktaildb.com/images/media/drink/qyyvtu1468878544.jpg"], ["user_id", 1], ["created_at", "2018-05-07 00:59:00.736425"], ["updated_at", "2018-05-07 00:59:00.736425"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 34ms (Views: 0.5ms | ActiveRecord: 9.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:59:02 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 1.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:59:12 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 20:59:19 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "Ju2hot4vTFb1z7cCWuS2d7Vt"], ["updated_at", "2018-05-07 00:59:19.253559"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 85ms (Views: 0.3ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:59:20 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Ju2hot4vTFb1z7cCWuS2d7Vt"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 8ms (Views: 2.9ms | ActiveRecord: 3.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 20:59:41 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "Ju2hot4vTFb1z7cCWuS2d7Vt"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 20:59:47 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "WZBMHmLWwfedgEmqFEV7eH3x"], ["updated_at", "2018-05-07 00:59:47.441149"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:59:48 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "WZBMHmLWwfedgEmqFEV7eH3x"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.7ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 20:59:53 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11011", "name"=>"After Supper Cocktail", "url"=>"https://www.thecocktaildb.com/images/media/drink/quyxwu1483387610.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "WZBMHmLWwfedgEmqFEV7eH3x"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "WZBMHmLWwfedgEmqFEV7eH3x"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "11011"], ["name", "After Supper Cocktail"], ["url", "https://www.thecocktaildb.com/images/media/drink/quyxwu1483387610.jpg"], ["user_id", 2], ["created_at", "2018-05-07 00:59:53.095369"], ["updated_at", "2018-05-07 00:59:53.095369"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 20:59:55 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 21:00:04 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 21:00:09 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "38jkrQnpxYuqrRjXsNrLqBU6"], ["updated_at", "2018-05-07 01:00:09.088603"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 21:00:10 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "38jkrQnpxYuqrRjXsNrLqBU6"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 21:00:37 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "38jkrQnpxYuqrRjXsNrLqBU6"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 21:00:42 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "KFFW9NRmXj7uPiAUZVsaiqzi"], ["updated_at", "2018-05-07 01:00:42.294236"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 21:01:07 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "KFFW9NRmXj7uPiAUZVsaiqzi"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 21:01:34 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "KFFW9NRmXj7uPiAUZVsaiqzi"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 20ms (ActiveRecord: 5.1ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 21:01:44 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "rdUPg2MoQRN4nUrV2PcWmfMb"], ["updated_at", "2018-05-07 01:01:44.751593"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 21:01:52 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "rdUPg2MoQRN4nUrV2PcWmfMb"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 131ms (ActiveRecord: 4.0ms)


  
NameError (undefined local variable or method `favorite' for #<FavoritesController:0x00007fd8220b2b40>
Did you mean?  favorites):
  
app/controllers/favorites_controller.rb:7:in `index'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 21:02:40 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "rdUPg2MoQRN4nUrV2PcWmfMb"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 19ms (ActiveRecord: 5.0ms)


Started POST "/login" for 127.0.0.1 at 2018-05-06 21:02:45 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "jxorvfYJ7rdnh59bcisRus8r"], ["updated_at", "2018-05-07 01:02:45.694477"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 21:02:46 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jxorvfYJ7rdnh59bcisRus8r"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 6.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-06 21:03:38 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"16134", "name"=>"Absolutly Screwed Up", "url"=>"https://www.thecocktaildb.com/images/media/drink/yvxrwv1472669728.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jxorvfYJ7rdnh59bcisRus8r"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "jxorvfYJ7rdnh59bcisRus8r"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "16134"], ["name", "Absolutly Screwed Up"], ["url", "https://www.thecocktaildb.com/images/media/drink/yvxrwv1472669728.jpg"], ["user_id", 1], ["created_at", "2018-05-07 01:03:38.891371"], ["updated_at", "2018-05-07 01:03:38.891371"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 1.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 21:03:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-06 21:03:44 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-06 21:03:49 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "qJ2w2vrhtvkuoSo1EFyeH3xS"], ["updated_at", "2018-05-07 01:03:50.033415"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 21:03:50 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "qJ2w2vrhtvkuoSo1EFyeH3xS"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-06 21:07:47 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "qJ2w2vrhtvkuoSo1EFyeH3xS"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 21ms (Views: 6.6ms | ActiveRecord: 6.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:27:58 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/lib/ruby/gems/2.5.0/gems/activerecord-5.2.0/lib/active_record/log_subscriber.rb:98
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "qJ2w2vrhtvkuoSo1EFyeH3xS"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (13.0ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 43ms (ActiveRecord: 18.7ms)


Started POST "/login" for 127.0.0.1 at 2018-05-07 09:28:09 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "uF6VRcUqVBgkerwkVbGWpNPz"], ["updated_at", "2018-05-07 13:28:09.198624"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 82ms (Views: 0.3ms | ActiveRecord: 3.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:28:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "uF6VRcUqVBgkerwkVbGWpNPz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 14ms (Views: 7.5ms | ActiveRecord: 8.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:28:22 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"17224", "name"=>"Absolutely Fabulous", "url"=>"https://www.thecocktaildb.com/images/media/drink/abcpwr1504817734.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "uF6VRcUqVBgkerwkVbGWpNPz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "uF6VRcUqVBgkerwkVbGWpNPz"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (5.9ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "17224"], ["name", "Absolutely Fabulous"], ["url", "https://www.thecocktaildb.com/images/media/drink/abcpwr1504817734.jpg"], ["user_id", 1], ["created_at", "2018-05-07 13:28:22.088606"], ["updated_at", "2018-05-07 13:28:22.088606"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 32ms (Views: 0.6ms | ActiveRecord: 12.8ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:28:24 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:30:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.6ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:34:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:34:52 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-07 09:34:58 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "XjRvkFpX7Ct5eZAamNRJi3Z9"], ["updated_at", "2018-05-07 13:34:58.942889"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.1ms | ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:35:00 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "XjRvkFpX7Ct5eZAamNRJi3Z9"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (1.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 9ms (Views: 3.6ms | ActiveRecord: 3.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:35:16 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14107", "name"=>"Absolut Summertime", "url"=>"https://www.thecocktaildb.com/images/media/drink/trpxxs1472669662.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "XjRvkFpX7Ct5eZAamNRJi3Z9"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "XjRvkFpX7Ct5eZAamNRJi3Z9"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14107"], ["name", "Absolut Summertime"], ["url", "https://www.thecocktaildb.com/images/media/drink/trpxxs1472669662.jpg"], ["user_id", 1], ["created_at", "2018-05-07 13:35:16.909685"], ["updated_at", "2018-05-07 13:35:16.909685"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 2.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:35:19 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:35:26 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-07 09:35:32 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "VUBW5GtgnE64wNbEN2iqFP9u"], ["updated_at", "2018-05-07 13:35:32.685197"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:35:34 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "VUBW5GtgnE64wNbEN2iqFP9u"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:38:18 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "VUBW5GtgnE64wNbEN2iqFP9u"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-07 09:38:24 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "D5gor6awvpdnFhgdUJ5AtJqq"], ["updated_at", "2018-05-07 13:38:24.344871"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:38:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "D5gor6awvpdnFhgdUJ5AtJqq"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (2.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 8ms (Views: 3.0ms | ActiveRecord: 3.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:38:39 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11002", "name"=>"A. J.", "url"=>"https://www.thecocktaildb.com/images/media/drink/uryyrr1472811418.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (40.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "D5gor6awvpdnFhgdUJ5AtJqq"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "D5gor6awvpdnFhgdUJ5AtJqq"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "11002"], ["name", "A. J."], ["url", "https://www.thecocktaildb.com/images/media/drink/uryyrr1472811418.jpg"], ["user_id", 1], ["created_at", "2018-05-07 13:38:39.204175"], ["updated_at", "2018-05-07 13:38:39.204175"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 51ms (Views: 0.5ms | ActiveRecord: 45.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:38:41 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 2.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:39:33 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-07 09:39:48 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "XSqEPanCdY3k5svJkPj1oxHi"], ["updated_at", "2018-05-07 13:39:48.177751"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:39:53 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"11029", "name"=>"Amaretto Tea", "url"=>"https://www.thecocktaildb.com/images/media/drink/b7qzo21493070167.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "XSqEPanCdY3k5svJkPj1oxHi"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "XSqEPanCdY3k5svJkPj1oxHi"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "11029"], ["name", "Amaretto Tea"], ["url", "https://www.thecocktaildb.com/images/media/drink/b7qzo21493070167.jpg"], ["user_id", 1], ["created_at", "2018-05-07 13:39:53.553174"], ["updated_at", "2018-05-07 13:39:53.553174"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:39:55 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:43:22 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-07 09:43:31 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "zL1fi2LjM9Q9B3pYXMHTdEMt"], ["updated_at", "2018-05-07 13:43:31.249474"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:43:32 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zL1fi2LjM9Q9B3pYXMHTdEMt"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 2ms (ActiveRecord: 0.7ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorites):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:43:39 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "zL1fi2LjM9Q9B3pYXMHTdEMt"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-07 09:43:44 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "BkvXHWaRHCF2KpsCoHHktZDm"], ["updated_at", "2018-05-07 13:43:44.886576"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:43:46 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "BkvXHWaRHCF2KpsCoHHktZDm"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 2ms (ActiveRecord: 0.6ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorites):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:43:58 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "BkvXHWaRHCF2KpsCoHHktZDm"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:44:00 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-07 09:44:07 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "4Fk9pfbJVN6hno2LF4gyvBaV"], ["updated_at", "2018-05-07 13:44:07.788948"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:44:09 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4Fk9pfbJVN6hno2LF4gyvBaV"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 400 Bad Request in 2ms (ActiveRecord: 0.3ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: favorites):
  
app/controllers/favorites_controller.rb:38:in `favorite_params'
app/controllers/favorites_controller.rb:17:in `create'
Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:45:15 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4Fk9pfbJVN6hno2LF4gyvBaV"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:45:17 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4Fk9pfbJVN6hno2LF4gyvBaV"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.7ms)


Started POST "/login" for 127.0.0.1 at 2018-05-07 09:45:21 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "GiAMYNzSQnmLRo8h4X3zkc6y"], ["updated_at", "2018-05-07 13:45:21.716179"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 88ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:45:23 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "GiAMYNzSQnmLRo8h4X3zkc6y"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.6ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:45:31 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"15024", "name"=>"Absolutely Cranberry Smash", "url"=>"https://www.thecocktaildb.com/images/media/drink/vqwstv1472811884.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "GiAMYNzSQnmLRo8h4X3zkc6y"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "GiAMYNzSQnmLRo8h4X3zkc6y"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "15024"], ["name", "Absolutely Cranberry Smash"], ["url", "https://www.thecocktaildb.com/images/media/drink/vqwstv1472811884.jpg"], ["user_id", 1], ["created_at", "2018-05-07 13:45:31.428126"], ["updated_at", "2018-05-07 13:45:31.428126"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:45:33 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:45:43 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-07 09:45:48 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "fNZ5wGjSMmLfBnKNfG81PYix"], ["updated_at", "2018-05-07 13:45:48.773302"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:45:49 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "fNZ5wGjSMmLfBnKNfG81PYix"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.6ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:47:28 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "fNZ5wGjSMmLfBnKNfG81PYix"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 1.1ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:47:35 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"16082", "name"=>"Almond Chocolate Coffee", "url"=>"https://www.thecocktaildb.com/images/media/drink/jls02c1493069441.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "fNZ5wGjSMmLfBnKNfG81PYix"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "fNZ5wGjSMmLfBnKNfG81PYix"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "16082"], ["name", "Almond Chocolate Coffee"], ["url", "https://www.thecocktaildb.com/images/media/drink/jls02c1493069441.jpg"], ["user_id", 1], ["created_at", "2018-05-07 13:47:35.718883"], ["updated_at", "2018-05-07 13:47:35.718883"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 2.1ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:47:38 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:47:52 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.3ms | ActiveRecord: 3.5ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:48:34 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"16943", "name"=>"A Gilligan's Island", "url"=>"https://www.thecocktaildb.com/images/media/drink/wysqut1461867176.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:48:37 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:53:15 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-07 09:53:20 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "ZY2JG3gJjhgi9bEq6CJtsJRk"], ["updated_at", "2018-05-07 13:53:20.793102"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:53:26 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"13501", "name"=>"ABC", "url"=>"https://www.thecocktaildb.com/images/media/drink/tqpvqp1472668328.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZY2JG3gJjhgi9bEq6CJtsJRk"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "ZY2JG3gJjhgi9bEq6CJtsJRk"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "13501"], ["name", "ABC"], ["url", "https://www.thecocktaildb.com/images/media/drink/tqpvqp1472668328.jpg"], ["user_id", 1], ["created_at", "2018-05-07 13:53:26.340074"], ["updated_at", "2018-05-07 13:53:26.340074"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 1.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:57:10 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-07 09:57:17 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "eHqJrxsEikkduwgkvzfeNz8S"], ["updated_at", "2018-05-07 13:57:17.410165"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:57:23 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14598", "name"=>"50/50", "url"=>"https://www.thecocktaildb.com/images/media/drink/wwpyvr1461919316.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eHqJrxsEikkduwgkvzfeNz8S"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eHqJrxsEikkduwgkvzfeNz8S"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14598"], ["name", "50/50"], ["url", "https://www.thecocktaildb.com/images/media/drink/wwpyvr1461919316.jpg"], ["user_id", 1], ["created_at", "2018-05-07 13:57:23.209550"], ["updated_at", "2018-05-07 13:57:23.209550"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 1.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:57:31 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eHqJrxsEikkduwgkvzfeNz8S"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:57:53 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "eHqJrxsEikkduwgkvzfeNz8S"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-07 09:58:11 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "t8P8eggrmbbk9qeGmmwMBwfR"], ["updated_at", "2018-05-07 13:58:11.138272"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 09:58:16 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"14229", "name"=>"747", "url"=>"https://www.thecocktaildb.com/images/media/drink/xxsxqy1472668106.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "t8P8eggrmbbk9qeGmmwMBwfR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "t8P8eggrmbbk9qeGmmwMBwfR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "14229"], ["name", "747"], ["url", "https://www.thecocktaildb.com/images/media/drink/xxsxqy1472668106.jpg"], ["user_id", 1], ["created_at", "2018-05-07 13:58:16.046887"], ["updated_at", "2018-05-07 13:58:16.046887"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 2.0ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:58:18 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "t8P8eggrmbbk9qeGmmwMBwfR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:58:21 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "t8P8eggrmbbk9qeGmmwMBwfR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2018-05-07 09:58:29 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "4iHSwQP1sZke5sFKCfcTyNMB"], ["updated_at", "2018-05-07 13:58:29.444289"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:58:31 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4iHSwQP1sZke5sFKCfcTyNMB"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 1.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 09:58:42 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "4iHSwQP1sZke5sFKCfcTyNMB"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/users" for 127.0.0.1 at 2018-05-07 09:58:59 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"ME", "password"=>"[FILTERED]", "email"=>"me@me.com", "name"=>"me"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ME"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "ME"], ["password_digest", "$2a$10$tEjFGmlq3LR8c7YiGXYbMekY7d3YftIM9sSVFhx6vLDJbnYWmtNku"], ["email", "me@me.com"], ["name", "me"], ["auth_token", "PCWokY98zSCzHHgzWd6gTML1"], ["created_at", "2018-05-07 13:58:59.407617"], ["updated_at", "2018-05-07 13:58:59.407617"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 1.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 09:59:02 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "PCWokY98zSCzHHgzWd6gTML1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites"[0m
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 1.1ms)


  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" ORDER BY "favorites"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
Started GET "/favorites" for 127.0.0.1 at 2018-05-07 10:05:18 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "PCWokY98zSCzHHgzWd6gTML1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "PCWokY98zSCzHHgzWd6gTML1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 47ms (Views: 1.5ms | ActiveRecord: 44.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 10:05:24 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "PCWokY98zSCzHHgzWd6gTML1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 4]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 1.8ms)


Started POST "/login" for 127.0.0.1 at 2018-05-07 10:05:29 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
Completed 401 Unauthorized in 79ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 10:05:30 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Filter chain halted as :require_login rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.5ms | ActiveRecord: 0.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 10:06:00 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "undefined"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started POST "/login" for 127.0.0.1 at 2018-05-07 10:06:50 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"cat", "password"=>"[FILTERED]", "session"=>{"username"=>"cat", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cat"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "cat"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "v7UH5PMXVYi1nDaTASTWbyJR"], ["updated_at", "2018-05-07 14:06:50.506085"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 84ms (Views: 0.3ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 10:06:53 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "v7UH5PMXVYi1nDaTASTWbyJR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "v7UH5PMXVYi1nDaTASTWbyJR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 25ms (Views: 15.5ms | ActiveRecord: 6.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 10:06:58 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "v7UH5PMXVYi1nDaTASTWbyJR"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 1]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.6ms)


Started POST "/login" for 127.0.0.1 at 2018-05-07 10:07:07 -0400
Processing by SessionsController#create as */*
  Parameters: {"username"=>"dog", "password"=>"[FILTERED]", "session"=>{"username"=>"dog", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dog"], ["LIMIT", 1]]
  â†³ app/models/user.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "dog"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["auth_token", "vR24k48xWRWsvGYzb3QCFxF9"], ["updated_at", "2018-05-07 14:07:07.730128"], ["id", 2]]
  â†³ app/controllers/sessions_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:25
Completed 200 OK in 73ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 10:07:09 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "vR24k48xWRWsvGYzb3QCFxF9"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "vR24k48xWRWsvGYzb3QCFxF9"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 1.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 10:10:11 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "vR24k48xWRWsvGYzb3QCFxF9"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 2]]
  â†³ app/models/user.rb:9
Completed 200 OK in 3ms (ActiveRecord: 1.5ms)


Started POST "/users" for 127.0.0.1 at 2018-05-07 10:10:27 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"tom", "password"=>"[FILTERED]", "email"=>"tom@tom.com", "name"=>"tom"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tom"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:5
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "auth_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["username", "tom"], ["password_digest", "$2a$10$dB5WwrPUX5xNTH/pGmSQ8ewN8PIEUMnqhnzMt8Tuf5TIuxcD7XV4O"], ["email", "tom@tom.com"], ["name", "tom"], ["auth_token", "9cX41t4rYBDaDszcaLkrhFa1"], ["created_at", "2018-05-07 14:10:27.391415"], ["updated_at", "2018-05-07 14:10:27.391415"]]
  â†³ app/controllers/users_controller.rb:5
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:5
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 1.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 10:10:47 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9cX41t4rYBDaDszcaLkrhFa1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9cX41t4rYBDaDszcaLkrhFa1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.8ms)


Started POST "/favorites" for 127.0.0.1 at 2018-05-07 10:11:45 -0400
Processing by FavoritesController#create as */*
  Parameters: {"favorites"=>{"drink_id"=>"13162", "name"=>"Afternoon", "url"=>"https://www.thecocktaildb.com/images/media/drink/vyrurp1472667777.jpg"}, "favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9cX41t4rYBDaDszcaLkrhFa1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9cX41t4rYBDaDszcaLkrhFa1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/favorites_controller.rb:20
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("drink_id", "name", "url", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["drink_id", "13162"], ["name", "Afternoon"], ["url", "https://www.thecocktaildb.com/images/media/drink/vyrurp1472667777.jpg"], ["user_id", 5], ["created_at", "2018-05-07 14:11:45.362827"], ["updated_at", "2018-05-07 14:11:45.362827"]]
  â†³ app/controllers/favorites_controller.rb:20
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/favorites_controller.rb:20
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 1.9ms)


Started GET "/favorites" for 127.0.0.1 at 2018-05-07 10:11:47 -0400
Processing by FavoritesController#index as */*
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9cX41t4rYBDaDszcaLkrhFa1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9cX41t4rYBDaDszcaLkrhFa1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/controllers/favorites_controller.rb:7
Completed 200 OK in 7ms (Views: 1.6ms | ActiveRecord: 2.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 10:12:37 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "9cX41t4rYBDaDszcaLkrhFa1"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "auth_token" = $1 WHERE "users"."id" = $2[0m  [["auth_token", nil], ["id", 5]]
  â†³ app/models/user.rb:9
Completed 200 OK in 4ms (ActiveRecord: 1.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 10:12:39 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 10:18:49 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 10ms (ActiveRecord: 3.3ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
Started DELETE "/logout" for 127.0.0.1 at 2018-05-07 10:27:55 -0400
Processing by SessionsController#destroy as */*
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT $2[0m  [["auth_token", "null"], ["LIMIT", 1]]
  â†³ app/controllers/api_controller.rb:21
Completed 500 Internal Server Error in 21ms (ActiveRecord: 9.9ms)


  
NoMethodError (undefined method `invalidate_token' for nil:NilClass):
  
app/controllers/sessions_controller.rb:29:in `logout'
app/controllers/sessions_controller.rb:14:in `destroy'
